window.IntersectionObserver||(window.IntersectionObserver=function(t,e){this.callback=t;this.options=e;this.observed={};this.eventHandler=false;this.addEventListener=function(t,e){window.addEventListener?window.addEventListener(t,e,false):window.attachEvent?window.attachEvent("on"+t,e):window["on"+t]=e};var r=this;this.observe=function(t){this.observed[ShortPixelAI.xpath(t)]=t;if(!this.eventHandler){this.addEventListener("scroll",function(){var t=jQuery(window).scrollTop();if(Math.abs(r.lastHandledScroll-t)>parseInt(r.options.rootMargin)/2){r.lastHandledScroll=t;var e=new Array;for(var n in r.observed){if(ShortPixelAI.elementInViewport(r.observed[n],parseInt(r.options.rootMargin))){e.push({target:r.observed[n],isIntersecting:true})}}if(e.length){r.callback(e,r)}}});this.eventHandler=true}};this.lastHandledScroll=0;this.unobserve=function(t){delete this.observed[ShortPixelAI.xpath(t)]};return this});Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;n=+e||0;Infinity===Math.abs(n)&&(n=0);if(n>=i)return-1;for(n=Math.max(0<=n?n:i-Math.abs(n),0);n<i;){if(n in r&&r[n]===t)return n;n++}return-1});
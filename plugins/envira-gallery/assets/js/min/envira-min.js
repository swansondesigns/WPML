!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(e){return t[e]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){t.exports=jQuery},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,window,o=[i(2),i(3)],void 0!==(r="function"==typeof(n=function(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i})?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){var n;
/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */!function(o,r){"use strict";void 0!==(n=function(){return function(){function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(t){var e=getComputedStyle(t);return e||r("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function i(){if(!l){l=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(i);var s=e(i);n.isBoxSizeOuter=o=200==t(s.width),r.removeChild(i)}}function n(n){if(i(),"string"==typeof n&&(n=document.querySelector(n)),n&&"object"==typeof n&&n.nodeType){var r=e(n);if("none"==r.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<a;e++)t[s[e]]=0;return t}();var l={};l.width=n.offsetWidth,l.height=n.offsetHeight;for(var c=l.isBorderBox="border-box"==r.boxSizing,h=0;h<a;h++){var u=s[h],d=r[u],p=parseFloat(d);l[u]=isNaN(p)?0:p}var g=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,m=l.marginTop+l.marginBottom,y=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,x=c&&o,_=t(r.width);!1!==_&&(l.width=_+(x?0:g+y));var w=t(r.height);return!1!==w&&(l.height=w+(x?0:f+b)),l.innerWidth=l.width-(g+y),l.innerHeight=l.height-(f+b),l.outerWidth=l.width+v,l.outerHeight=l.height+m,l}}var o,r="undefined"==typeof console?function(){}:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=s.length,l=!1;return n}()}.call(e,i,e,t))&&(t.exports=n)}(window)},function(t,e,i){var n,o;
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */!function(r,s){"use strict";n=[i(4),i(2),i(12),i(14)],void 0!==(o=function(t,e,i,n){return function(t,e,i,n,o){function r(t,e){var i=n.getQueryElement(t);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,u[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var a=t.console,l=t.jQuery,c=function(){},h=0,u={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=r.prototype;n.extend(d,e.prototype),d.option=function(t){n.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},d._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];return i.length?(i=parseFloat(i))*(p[n]||1):0}(t),this.stagger)},d._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=c,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++s==r&&i()}var o=this,r=e.length;if(e&&r){var s=0;e.forEach(function(e){e.once(t,n)})}else i()},d.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=c,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t);return{left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom}},d.handleEvent=n.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){var e=[];return(t=n.makeArray(t)).forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i};var p={ms:1,s:1e3};return r.Item=o,r}(r,t,e,i,n)}.apply(e,n))&&(t.exports=o)}(window)},function(t,e,i){var n,o;"undefined"!=typeof window&&window,n=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t},void 0!==(o="function"==typeof n?n.call(e,i,e,t):n)&&(t.exports=o)},function(t,e,i){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}i(6),i(7),i(8),i(9),i(10),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26);var n=e(i(27)),o=e(i(29)),r=window.envira_galleries||{},s=window.envira_links||{};!function(t,e,i,n,o,r,a){t(function(){e.envira_galleries=a,e.envira_links=s,t(i).on("envira_load",function(e){e.stopPropagation(),a={},s={};var r=[];t(".envira-gallery-public").each(function(){var e=t(this),i=(e.data("envira-id"),e.data("gallery-config")),o=e.data("gallery-images"),s=e.data("lightbox-theme"),l="";void 0!==r[i.gallery_id]?(l="_"+(r[i.gallery_id]?parseInt(r[i.gallery_id])+1:2),r[i.gallery_id]=parseInt(r[i.gallery_id])+1):r[i.gallery_id]=1,a[i.gallery_id]=new n(i.gallery_id+l,i,o,s)}),t(".envira-gallery-links").each(function(){var e=t(this),i=e.data("gallery-config"),n=e.data("gallery-images"),r=e.data("lightbox-theme");void 0===s[i.gallery_id]&&(s[i.gallery_id]=new o(i,n,r))}),t(i).trigger("envira_loaded",[a,s])}),t(i).trigger("envira_load"),void 0!==r.debug&&r.debug&&(console.log(s),console.log(a)),t("body").on("click",'div.envirabox-title a[href*="#"]:not([href="#"])',function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname)return t.envirabox.close(),!1}),t(i).on("envira_image_lazy_load_complete",function(i){var n="";if(void 0!==i&&(void 0!==i.image_id&&null!==i.image_id||void 0!==i.video_id&&null!==i.video_id)){if(void 0===(n=t("#envira-gallery-wrap-"+i.gallery_id).find("#"+i.video_id+" iframe").length>0?t("#envira-gallery-wrap-"+i.gallery_id).find("#"+i.video_id+" iframe"):t("#envira-gallery-wrap-"+i.gallery_id).find("#"+i.video_id+" video").length>0?t("#envira-gallery-wrap-"+i.gallery_id).find("#"+i.video_id+" video"):t("#envira-gallery-wrap-"+i.gallery_id).find("img#"+i.image_id))||""===n)return;if(t("#envira-gallery-wrap-"+i.gallery_id).find("div.envira-gallery-public").hasClass("envira-gallery-0-columns"))t(n).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show();else{t(n).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show();var o=t(n).closest("div.envira-gallery-item-inner").find(".envira-lazy").width(),r=i.naturalHeight/i.naturalWidth,s=i.naturalHeight/o;if(s<r)var a=s;else a=r;var l=100*a;n.closest("div.envira-gallery-public").parent().hasClass("envira-gallery-theme-sleek")&&(l+=2);var c=t(n).closest("div.envira-gallery-item-inner").find("div.envira-lazy"),h=c.closest("div.envira-gallery-item-inner").find(".envira-gallery-captioned-data").height();if(t(n).closest("div.envira-gallery-item").hasClass("enviratope-item"))c.css("padding-bottom",l+"%").attr("data-envira-changed","true"),t(n).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",h),t(n).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",h);else c.css("height","auto").css("padding-bottom","10px").attr("data-envira-changed","true"),t(n).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",h+10),t(n).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",h+10);t(n).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),t(n).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible"),void 0!==e["envira_container_"+i.gallery_id]&&t("#envira-gallery-"+i.gallery_id).hasClass("enviratope")&&e["envira_container_"+i.gallery_id].on("layoutComplete",function(e,i){t(n).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),t(n).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible")})}}})})}(t,window,document,n.default,o.default,envira_gallery,r)}).call(this,i(0))},function(t,e,i){"use strict";
/*!
 * Envira Pollyfills
 */Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),i=e.length,n=new Array(i);i--;)n[i]=[e[i],t[e[i]]];return n})},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,o=[i(0)],n=function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,u=0,d=0,p=0,g=0,f=0;if((e=t.event.fix(s)).type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(u=s.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===s.deltaMode){var v=t.data(this,"mousewheel-line-height");c*=v,d*=v,u*=v}else if(2===s.deltaMode){var m=t.data(this,"mousewheel-page-height");c*=m,d*=m,u*=m}if(p=Math.max(Math.abs(d),Math.abs(u)),(!r||p<r)&&(r=p,n(s,p)&&(r/=40)),n(s,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/r),u=Math[u>=1?"floor":"ceil"](u/r),d=Math[d>=1?"floor":"ceil"](d/r),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();g=e.clientX-y.left,f=e.clientY-y.top}return e.deltaX=u,e.deltaY=d,e.deltaFactor=r,e.offsetX=g,e.offsetY=f,e.deltaMode=0,a.unshift(e,c,u,d),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function i(){r=null}function n(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,r,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},void 0!==(r="function"==typeof n?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){"use strict";(function(t){
/*!
 * Justified Gallery - v3.6.2
 * http://miromannino.github.io/Justified-Gallery/
 * Copyright (c) 2016 Miro Mannino
 * Licensed under the MIT license.
 */
!function(t){function e(){return t("body").height()>t(window).height()}var i=function(e,i){this.settings=i,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=i.border>=0?i.border:i.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:t('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.checkWidthIntervalId=null,this.galleryWidth=e.width(),this.$gallery=e};i.prototype.getSuffix=function(t,e){var i,n;for(i=t>e?t:e,n=0;n<this.suffixRanges.length;n++)if(i<=this.suffixRanges[n])return this.settings.sizeRangeSuffixes[this.suffixRanges[n]];return this.settings.sizeRangeSuffixes[this.suffixRanges[n-1]]},i.prototype.removeSuffix=function(t,e){return t.substring(0,t.length-e.length)},i.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},i.prototype.getUsedSuffix=function(t){for(var e in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(e)){if(0===this.settings.sizeRangeSuffixes[e].length)continue;if(this.endsWith(t,this.settings.sizeRangeSuffixes[e]))return this.settings.sizeRangeSuffixes[e]}return""},i.prototype.newSrc=function(t,e,i){var n;if(this.settings.thumbnailPath)n=this.settings.thumbnailPath(t,e,i);else{var o=t.match(this.settings.extension),r=null!==o?o[0]:"";n=t.replace(this.settings.extension,""),n=this.removeSuffix(n,this.getUsedSuffix(n)),n+=this.getSuffix(e,i)+r}return n},i.prototype.showImg=function(t,e){this.settings.cssAnimation?(t.addClass("entry-visible"),e&&e()):t.stop().fadeTo(this.settings.imagesAnimationDuration,1,e)},i.prototype.extractImgSrcFromImage=function(t){var e=void 0!==t.data("safe-src")?t.data("safe-src"):t.attr("src");return t.data("jg.originalSrc",e),e},i.prototype.imgFromEntry=function(t){var e=t.find("> img");return 0===e.length&&(e=t.find("> a > img")),0===e.length?null:e},i.prototype.captionFromEntry=function(t){var e=t.find(".caption");return 0===e.length?null:e},i.prototype.displayEntry=function(e,i,n,o,r,s){e.width(o),e.height(s),e.css("top",n),e.css("left",i);var a=this.imgFromEntry(e);if(null!==a){a.css("width",o),a.css("height",r),a.css("margin-left",-o/2),a.css("margin-top",-r/2);var l=a.attr("src"),c=this.newSrc(l,o,r);a.one("error",function(){a.attr("src",a.data("jg.originalSrc"))});var h=function(){l!==c&&a.attr("src",c)};"skipped"===e.data("jg.loaded")?this.onImageEvent(l,t.proxy(function(){this.showImg(e,h),e.data("jg.loaded",!0)},this)):this.showImg(e,h)}else this.showImg(e);this.displayEntryCaption(e)},i.prototype.displayEntryCaption=function(e){var i=this.imgFromEntry(e);if(null!==i&&this.settings.captions){var n=this.captionFromEntry(e);if(null===n){var o=i.attr("alt");this.isValidCaption(o)||(o=e.attr("title")),this.isValidCaption(o)&&(n=t('<div class="caption">'+o+"</div>"),e.append(n),e.data("jg.createdCaption",!0))}null!==n&&(this.settings.cssAnimation||n.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(e))}else this.removeCaptionEventsHandlers(e)},i.prototype.isValidCaption=function(t){return void 0!==t&&t.length>0},i.prototype.onEntryMouseEnterForCaption=function(e){var i=this.captionFromEntry(t(e.currentTarget));this.settings.cssAnimation?void 0!==i&&null!=i&&i.addClass("caption-visible").removeClass("caption-hidden"):void 0!==i&&null!=i&&i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},i.prototype.onEntryMouseLeaveForCaption=function(e){var i=this.captionFromEntry(t(e.currentTarget));this.settings.cssAnimation?void 0!==i&&null!=i&&i.removeClass("caption-visible").removeClass("caption-hidden"):void 0!==i&&null!=i&&i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},i.prototype.addCaptionEventsHandlers=function(e){var i=e.data("jg.captionMouseEvents");void 0===i&&(i={mouseenter:t.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:t.proxy(this.onEntryMouseLeaveForCaption,this)},e.on("mouseenter",void 0,void 0,i.mouseenter),e.on("mouseleave",void 0,void 0,i.mouseleave),e.data("jg.captionMouseEvents",i))},i.prototype.removeCaptionEventsHandlers=function(t){var e=t.data("jg.captionMouseEvents");void 0!==e&&(t.off("mouseenter",void 0,e.mouseenter),t.off("mouseleave",void 0,e.mouseleave),t.removeData("jg.captionMouseEvents"))},i.prototype.prepareBuildingRow=function(t){var e,i,n,o,r,s=!0,a=0,l=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,c=l/this.buildingRow.aspectRatio,h=this.settings.rowHeight,u=this.buildingRow.width/l>this.settings.justifyThreshold;if(t&&"hide"===this.settings.lastRow&&!u){for(e=0;e<this.buildingRow.entriesBuff.length;e++)i=this.buildingRow.entriesBuff[e],this.settings.cssAnimation?i.removeClass("entry-visible"):i.stop().fadeTo(0,0);return-1}for(t&&!u&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(s=!1,this.rows>0&&(s=(h=(this.offY-this.border-this.settings.margins*this.rows)/this.rows)*this.buildingRow.aspectRatio/l>this.settings.justifyThreshold)),e=0;e<this.buildingRow.entriesBuff.length;e++)n=(i=this.buildingRow.entriesBuff[e]).data("jg.width")/i.data("jg.height"),s?(o=e===this.buildingRow.entriesBuff.length-1?l:c*n,r=c):(o=h*n,r=h),l-=Math.round(o),i.data("jg.jwidth",Math.round(o)),i.data("jg.jheight",Math.ceil(r)),(0===e||a>r)&&(a=r);return this.settings.fixedHeight&&a>this.settings.rowHeight&&(a=this.settings.rowHeight),this.buildingRow.height=a,s},i.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},i.prototype.flushRow=function(t){var e,i,n,o=this.settings,r=this.border;if(i=this.prepareBuildingRow(t),t&&"hide"===o.lastRow&&-1===i)this.clearBuildingRow();else{if(this.maxRowHeight.isPercentage?this.maxRowHeight.value*o.rowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value*o.rowHeight):this.maxRowHeight.value>0&&this.maxRowHeight.value<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value),"center"===o.lastRow||"right"===o.lastRow){var s=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*o.margins;for(n=0;n<this.buildingRow.entriesBuff.length;n++)s-=(e=this.buildingRow.entriesBuff[n]).data("jg.jwidth");"center"===o.lastRow?r+=s/2:"right"===o.lastRow&&(r+=s)}for(n=0;n<this.buildingRow.entriesBuff.length;n++)e=this.buildingRow.entriesBuff[n],this.displayEntry(e,r,this.offY,e.data("jg.jwidth"),e.data("jg.jheight"),this.buildingRow.height),r+=e.data("jg.jwidth")+o.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.$gallery.height(this.galleryHeightToSet+this.getSpinnerHeight()),(!t||this.buildingRow.height<=o.rowHeight&&i)&&(this.offY+=this.buildingRow.height+o.margins,this.rows+=1,this.clearBuildingRow(),this.$gallery.trigger("jg.rowflush"))}};var n=!1;i.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(t.proxy(function(){var t=parseFloat(this.$gallery.width());e()===n?Math.abs(t-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=t,this.rewind(),this.startImgAnalyzer(!0)):(n=e(),this.galleryWidth=t)},this),this.settings.refreshTime)},i.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},i.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},i.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},i.prototype.startLoadingSpinnerAnimation=function(){var t=this.spinner,e=t.$el.find("span");clearInterval(t.intervalId),this.$gallery.append(t.$el),this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight()),t.intervalId=setInterval(function(){t.phase<e.length?e.eq(t.phase).fadeTo(t.timeSlot,1):e.eq(t.phase-e.length).fadeTo(t.timeSlot,0),t.phase=(t.phase+1)%(2*e.length)},t.timeSlot)},i.prototype.rewind=function(){this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},i.prototype.updateEntries=function(e){return this.entries=this.$gallery.find(this.settings.selector).toArray(),0!==this.entries.length&&(this.settings.filter?this.modifyEntries(this.filterArray,e):this.modifyEntries(this.resetFilters,e),t.isFunction(this.settings.sort)?this.modifyEntries(this.sortArray,e):this.settings.randomize&&this.modifyEntries(this.shuffleArray,e),!0)},i.prototype.insertToGallery=function(e){var i=this;t.each(e,function(){t(this).appendTo(i.$gallery)})},i.prototype.shuffleArray=function(t){var e,i,n;for(e=t.length-1;e>0;e--)i=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[i],t[i]=n;return this.insertToGallery(t),t},i.prototype.sortArray=function(t){return t.sort(this.settings.sort),this.insertToGallery(t),t},i.prototype.resetFilters=function(e){for(var i=0;i<e.length;i++)t(e[i]).removeClass("jg-filtered");return e},i.prototype.filterArray=function(e){var i=this.settings;return"string"===t.type(i.filter)?e.filter(function(e){var n=t(e);return n.is(i.filter)?(n.removeClass("jg-filtered"),!0):(n.addClass("jg-filtered"),!1)}):t.isFunction(i.filter)?e.filter(i.filter):void 0},i.prototype.modifyEntries=function(t,e){var i=e?this.entries.splice(this.lastAnalyzedIndex+1,this.entries.length-this.lastAnalyzedIndex-1):this.entries;i=t.call(this,i),this.entries=e?this.entries.concat(i):i},i.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),t.each(this.entries,t.proxy(function(e,i){var n=t(i);n.css("width",""),n.css("height",""),n.css("top",""),n.css("left",""),n.data("jg.loaded",void 0),n.removeClass("jg-entry");var o=this.imgFromEntry(n);o.css("width",""),o.css("height",""),o.css("margin-left",""),o.css("margin-top",""),o.attr("src",o.data("jg.originalSrc")),o.data("jg.originalSrc",void 0),this.removeCaptionEventsHandlers(n);var r=this.captionFromEntry(n);n.data("jg.createdCaption")?(n.data("jg.createdCaption",void 0),null!==r&&r.remove()):null!==r&&r.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("envira-justified-gallery"),this.$gallery.data("jg.controller",void 0)},i.prototype.analyzeImages=function(e){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var n=t(this.entries[i]);if(!0===n.data("jg.loaded")||"skipped"===n.data("jg.loaded")){var o=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,r=n.data("jg.width")/n.data("jg.height");if(o/(this.buildingRow.aspectRatio+r)<this.settings.rowHeight&&(this.flushRow(!1),++this.yield.flushed>=this.yield.every))return void this.startImgAnalyzer(e);this.buildingRow.entriesBuff.push(n),this.buildingRow.aspectRatio+=r,this.buildingRow.width+=r*this.settings.rowHeight,this.lastAnalyzedIndex=i}else if("error"!==n.data("jg.loaded"))return}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.$gallery.trigger(e?"jg.resize":"jg.complete"),this.$gallery.height(this.galleryHeightToSet)},i.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,null!==this.imgAnalyzerTimeout&&clearTimeout(this.imgAnalyzerTimeout)},i.prototype.startImgAnalyzer=function(t){var e=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){e.analyzeImages(t)},.001)},i.prototype.onImageEvent=function(e,i,n){if(i||n){var o=new Image,r=t(o);i&&r.one("load",function(){r.off("load error"),i(o)}),n&&r.one("error",function(){r.off("load error"),n(o)}),o.src=e}},i.prototype.init=function(){var e=!1,i=!1,n=this;t.each(this.entries,function(o,r){var s=t(r),a=n.imgFromEntry(s);if(s.addClass("jg-entry"),!0!==s.data("jg.loaded")&&"skipped"!==s.data("jg.loaded"))if(null!==n.settings.rel&&s.attr("rel",n.settings.rel),null!==n.settings.target&&s.attr("target",n.settings.target),null!==a){var l=n.extractImgSrcFromImage(a);if(a.attr("src",l),!1===n.settings.waitThumbnailsLoad){var c=parseFloat(a.attr("width")),h=parseFloat(a.attr("height"));if(!isNaN(c)&&!isNaN(h))return s.data("jg.width",c),s.data("jg.height",h),s.data("jg.loaded","skipped"),i=!0,n.startImgAnalyzer(!1),!0}s.data("jg.loaded",!1),e=!0,n.isSpinnerActive()||n.startLoadingSpinnerAnimation(),n.onImageEvent(l,function(t){s.data("jg.width",s.find(".envira-gallery-image").data("envira-width")),s.data("jg.height",s.find(".envira-gallery-image").data("envira-height")),s.data("jg.loaded",!0),n.startImgAnalyzer(!1)},function(){s.data("jg.loaded","error"),n.startImgAnalyzer(!1)})}else s.data("jg.loaded",!0),s.data("jg.width",s.width()|parseFloat(s.css("width"))|1),s.data("jg.height",s.height()|parseFloat(s.css("height"))|1)}),e||i||this.startImgAnalyzer(!1),this.checkWidth()},i.prototype.checkOrConvertNumber=function(e,i){if("string"===t.type(e[i])&&(e[i]=parseFloat(e[i])),"number"!==t.type(e[i]))throw i+" must be a number";if(isNaN(e[i]))throw"invalid number for "+i},i.prototype.checkSizeRangesSuffixes=function(){if("object"!==t.type(this.settings.sizeRangeSuffixes))throw"sizeRangeSuffixes must be defined and must be an object";var e=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&e.push(i);for(var n={0:""},o=0;o<e.length;o++)if("string"===t.type(e[o]))try{n[parseInt(e[o].replace(/^[a-z]+/,""),10)]=this.settings.sizeRangeSuffixes[e[o]]}catch(t){throw"sizeRangeSuffixes keys must contains correct numbers ("+t+")"}else n[e[o]]=this.settings.sizeRangeSuffixes[e[o]];this.settings.sizeRangeSuffixes=n},i.prototype.retrieveMaxRowHeight=function(){var e={};if("string"===t.type(this.settings.maxRowHeight))this.settings.maxRowHeight.match(/^[0-9]+%$/)?(e.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100,e.isPercentage=!1):(e.value=parseFloat(this.settings.maxRowHeight),e.isPercentage=!0);else{if("number"!==t.type(this.settings.maxRowHeight))throw"maxRowHeight must be a number or a percentage";e.value=this.settings.maxRowHeight,e.isPercentage=!1}if(isNaN(e.value))throw"invalid number for maxRowHeight";return e.isPercentage?e.value<100&&(e.value=100):e.value>0&&e.value<this.settings.rowHeight&&(e.value=this.settings.rowHeight),e},i.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border");var e=["justify","nojustify","left","center","right","hide"];if(-1===e.indexOf(this.settings.lastRow))throw"lastRow must be one of: "+e.join(", ");if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||this.settings.justifyThreshold>1)throw"justifyThreshold must be in the interval [0,1]";if("boolean"!==t.type(this.settings.cssAnimation))throw"cssAnimation must be a boolean";if("boolean"!==t.type(this.settings.captions))throw"captions must be a boolean";if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";if("boolean"!==t.type(this.settings.fixedHeight))throw"fixedHeight must be a boolean";if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==t.type(this.settings.randomize))throw"randomize must be a boolean";if("string"!==t.type(this.settings.selector))throw"selector must be a string";if(!1!==this.settings.sort&&!t.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(!1!==this.settings.filter&&!t.isFunction(this.settings.filter)&&"string"!==t.type(this.settings.filter))throw"filter must be false, a string or a filter function"},i.prototype.retrieveSuffixRanges=function(){var t=[];for(var e in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(e)&&t.push(parseInt(e,10));return t.sort(function(t,e){return t>e?1:t<e?-1:0}),t},i.prototype.updateSettings=function(e){this.settings=t.extend({},this.settings,e),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},t.fn.justifiedGallery=function(e){return this.each(function(n,o){var r=t(o);r.addClass("envira-justified-gallery");var s=r.data("jg.controller");if(void 0===s){if(void 0!==e&&null!==e&&"object"!==t.type(e)){if("destroy"===e)return;throw"The argument must be an object"}s=new i(r,t.extend({},t.fn.justifiedGallery.defaults,e)),r.data("jg.controller",s)}else if("norewind"===e);else{if("destroy"===e)return void s.destroy();s.updateSettings(e),s.rewind()}s.updateEntries("norewind"===e)&&s.init()})},t.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:-1,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,fixedHeight:!1,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!1,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\\/] + $ /,refreshTime:100,refreshSensitivity:0,randomize:!1,sort:!1,filter:!1,selector:"> a, > div:not(.spinner)"}}(t)}).call(this,i(0))},function(t,e,i){"use strict";(function(t){
/*!
 * Justified Gallery / Envira Extensions and Overrides - v3.6.2
 * Copyright (c) 2016 David Bisset, Benjamin Rojas
 * Licensed under the MIT license.
 */
!function(t){var e=t.fn.justifiedGallery,i={};t.fn.enviraJustifiedGallery=function(){var n=e.apply(this,arguments);if(void 0!==(i=n.data("jg.controller")))return i.displayEntryCaption=function(e){var i=this.imgFromEntry(e);if(null!==i&&this.settings.captions){var n=this.captionFromEntry(e);if(null===n){var o=i.data("automatic-caption"),r="";void 0!==o&&"string"==typeof o&&(o=o.replace("<","&lt;"),r=t("<textarea />").html(o).text()),void 0!==r&&this.isValidCaption(r)&&(n=t('<div class="caption">'+r+"</div>"),i.after(n),e.data("jg.createdCaption",!0))}if(null!==n){this.settings.cssAnimation||n.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity);var s=n.css("height");e.find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",s),e.find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",s),this.addCaptionEventsHandlers(e)}}else this.removeCaptionEventsHandlers(e)},i}}(t)}).call(this,i(0))},function(t,e,i){"use strict";var n,o,r,s,a,l,c,h,u,d,p,g,f,v,m,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Enviratope PACKAGED v3.0.0
 *
 * Licensed GPLv3 for open source use
 * or Enviratope Commercial License for commercial use
 *
 * http://enviratope.metafizzy.co
 * Copyright 2016 Metafizzy
 */!function(n,o){v=[i(0)],void 0!==(m=function(t){!function(t,e){function i(i,r,a){(a=a||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){return"string"==typeof t?function(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,l){var c=a.data(l,i);if(c){var h=c[e];if(h&&"_"!=e.charAt(0)){var u=h.apply(c,n);o=void 0===o?u:o}else s(r+" is not a valid method")}else s(i+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:t}(this,t,o.call(arguments,1)):(function(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}(this,t),this)},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};n(e||t.jQuery)}(n,t)}.apply(e,v))&&(t.exports=m)}(window),o=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=i[n+=s?0:1]}return this}},t},r={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},n="function"==typeof o?o.call(r.exports,i,r.exports,r):o,r.loaded=!0,void 0===n&&(n=r.exports),window,s=function(){return function(){function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(t){var e=getComputedStyle(t);return e||r("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function i(){if(!l){l=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(i);var s=e(i);n.isBoxSizeOuter=o=200==t(s.width),r.removeChild(i)}}function n(n){if(i(),"string"==typeof n&&(n=document.querySelector(n)),n&&"object"==(void 0===n?"undefined":y(n))&&n.nodeType){var r=e(n);if("none"==r.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<a;e++)t[s[e]]=0;return t}();var l={};l.width=n.offsetWidth,l.height=n.offsetHeight;for(var c=l.isBorderBox="border-box"==r.boxSizing,h=0;h<a;h++){var u=s[h],d=r[u],p=parseFloat(d);l[u]=isNaN(p)?0:p}var g=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,m=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,x=l.borderTopWidth+l.borderBottomWidth,_=c&&o,w=t(r.width);!1!==w&&(l.width=w+(_?0:g+b));var S=t(r.height);return!1!==S&&(l.height=S+(_?0:f+x)),l.innerWidth=l.width-(g+b),l.innerHeight=l.height-(f+x),l.outerWidth=l.width+v,l.outerHeight=l.height+m,l}}var o,r="undefined"==typeof console?function(){}:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=s.length,l=!1;return n}()}.apply(e,v=[]),window,c={id:"desandro-matches-selector/matches-selector",exports:{},loaded:!1},a="function"==typeof(l=function(){var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}})?l.call(c.exports,i,c.exports,c):l,c.loaded=!0,void 0===a&&(a=c.exports),function(t,i){h=function(e){return function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)}};i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){var o=[];return(t=i.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=i.makeArray(a).concat(i.makeArray(l)),h=s+"-options",u=t.jQuery;c.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(h);try{i=r&&JSON.parse(r)}catch(e){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,i);u&&u.data(t,o,a)})})},i}(t,e)}.apply(e,v=[a])}(window),window,v=[n,s],u="function"==typeof(f=function(t,e){function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},l=i.prototype=Object.create(t.prototype);l.constructor=i,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var i in t)e[a[i]||i]=t[i]},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},l.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",h=n?"bottom":"top",u=this.position.y+t[l];e[c]=this.getYValue(u),e[h]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-i,l=e-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return"translate3d("+(t=i?t:-t)+"px, "+(e=n?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(r);l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i})?f.apply(e,v):f,
/*!
 * Outlayer v2.1.0
 * the brains and guts of a layout library
 * MIT license
 */
function(t,i){d=function(e,i,n,o){return function(t,e,i,n,o){function r(t,e){var i=n.getQueryElement(t);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,u[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var a=t.console,l=t.jQuery,c=function(){},h=0,u={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=r.prototype;n.extend(d,e.prototype),d.option=function(t){n.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},d._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];return i.length?(i=parseFloat(i))*(p[n]||1):0}(t),this.stagger)},d._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=c,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++s==r&&i()}var o=this,r=e.length;if(e&&r){var s=0;e.forEach(function(e){e.once(t,n)})}else i()},d.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=c,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t);return{left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom}},d.handleEvent=n.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){var e=[];return(t=n.makeArray(t)).forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i};var p={ms:1,s:1e3};return r.Item=o,r}(t,e,i,n,o)}.apply(e,v=[n,s,h,u])}(window),window,v=[d],void 0!==(m="function"==typeof(f=function(t){function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e})?f.apply(e,v):f)&&(t.exports=m),window,v=[s,d],p="function"==typeof(f=function(t,e){function i(t){this.enviratope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.enviratope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.enviratope.element);return this.enviratope.size&&e&&e.innerHeight!=this.enviratope.size.innerHeight},n._getMeasurement=function(){this.enviratope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.enviratope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.enviratope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.enviratope.layout.apply(this.enviratope,arguments)},n.getSize=function(){this.enviratope.getSize(),this.size=this.enviratope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i})?f.apply(e,v):f,window,v=[d,s],g="function"==typeof(f=function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=o.indexOf(r),a={x:this.columnWidth*s,y:r},l=r+t.size.outerHeight,c=this.cols+1-o.length,h=0;h<c;h++)this.colYs[s+h]=l;return a},i.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var l=Math.floor(s/this.columnWidth);l-=s%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),h=(c?n.top:n.bottom)+i.outerHeight,u=a;u<=l;u++)this.colYs[u]=Math.max(h,this.colYs[u])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i})?f.apply(e,v):f,window,v=[p,g],void 0!==(m="function"==typeof(f=function(t,e){var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(n[r]=e.prototype[r]);var s=n.measureColumns;n.measureColumns=function(){this.items=this.enviratope.filteredItems,s.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.enviratope,arguments)},i})?f.apply(e,v):f)&&(t.exports=m),window,v=[p],void 0!==(m="function"==typeof(f=function(t){var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.enviratope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e})?f.apply(e,v):f)&&(t.exports=m),window,v=[p],void 0!==(m="function"==typeof(f=function(t){var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.enviratope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e})?f.apply(e,v):f)&&(t.exports=m),
/*!
 * Enviratope v3.0.0
 *
 * Licensed GPLv3 for open source use
 * or Enviratope Commercial License for commercial use
 *
 * http://enviratope.metafizzy.co
 * Copyright 2016 Metafizzy
 */
function(n,o){v=[d,s,a,h,i(15),i(1),i(16),i(18),i(11)],void 0!==(m=function(t,e,i,o,r,s){return function(t,e,i,n,o,r,s){var a=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},c=e.create("enviratope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=r,c.LayoutMode=s;var h=c.prototype;h._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(t)},h.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},h._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++)t[i].id=this.itemGUID++;return this._updateItemsSortData(t),t},h._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},h.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},h._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},h.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},h._init=h.arrange,h._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},h._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},h._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},h._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),s=0;s<t.length;s++){var a=t[s];if(!a.isIgnored){var l=r(a);l&&i.push(a),l&&a.isHidden?n.push(a):l||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},h._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},h.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},h._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=u(i)}},h._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].updateSortData()};var u=function(){return function(t){if("string"!=typeof t)return t;var e=l(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),o=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}(n&&n[1],i),r=c.sortDataParsers[e[1]];return t=r?function(t){return t&&r(o(t))}:function(t){return t&&o(t)}}}();c.sortDataParsers={parseInt:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return parseInt(t,10)}),parseFloat:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return parseFloat(t)})},h._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=function(t,e){return function(i,n){for(var o=0;o<t.length;o++){var r=t[o],s=i.sortData[r],a=n.sortData[r];if(s>a||s<a){var l=void 0!==e[r]?e[r]:e,c=l?1:-1;return(s>a?1:-1)*c}}return 0}}(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},h._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},h._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},h._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},h._manageStamp=function(t){this._mode()._manageStamp(t)},h._getContainerSize=function(){return this._mode()._getContainerSize()},h.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},h.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},h._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},h.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;i<o;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;i<o;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var d=h.remove;return h.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var r=e[n];o.removeFrom(this.filteredItems,r)}},h.shuffle=function(){for(var t=0;t<this.items.length;t++)this.items[t].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},h._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},h.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},c}(n,t,0,i,o,r,s)}.apply(e,v))&&(t.exports=m)}(window)},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,window,o=[i(1)],void 0!==(r="function"==typeof(n=function(t){var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e})?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){var n,o;!function(r,s){n=[i(13)],void 0!==(o=function(t){return function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)}};i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){var o=[];return(t=i.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=i.makeArray(a).concat(i.makeArray(l)),h=s+"-options",u=t.jQuery;c.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(h);try{i=r&&JSON.parse(r)}catch(e){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,i);u&&u.data(t,o,a)})})},i}(r,t)}.apply(e,n))&&(t.exports=o)}(window)},function(t,e,i){var n,o;!function(r,s){"use strict";void 0!==(o="function"==typeof(n=function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}})?n.call(e,i,e,t):n)&&(t.exports=o)}(window)},function(t,e,i){var n,o,r;window,o=[i(4),i(2)],n=function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],a={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},l=i.prototype=Object.create(t.prototype);l.constructor=i,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var i in t)e[a[i]||i]=t[i]},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=parseFloat(n),s=parseFloat(o),a=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*a.width),-1!=o.indexOf("%")&&(s=s/100*a.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?a.paddingLeft:a.paddingRight,s-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},l.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",h=n?"bottom":"top",u=this.position.y+t[l];e[c]=this.getYValue(u),e[h]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!o||this.isTransitioning){var r=t-i,s=e-n,a={};a.transform=this.getTranslate(r,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return"translate3d("+(t=i?t:-t)+"px, "+(e=n?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(r);l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i},void 0!==(r="function"==typeof n?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,window,o=[i(3)],void 0!==(r="function"==typeof(n=function(t){function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e})?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,window,o=[i(1),i(17)],void 0!==(r="function"==typeof(n=function(t,e){var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(n[r]=e.prototype[r]);var s=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i})?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){var n,o,r;
/*!
 * Masonry v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */window,o=[i(3),i(2)],n=function(t,e){"use strict";var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](n,t),s={x:this.columnWidth*r.col,y:r.y},a=r.y+t.size.outerHeight,l=n+r.col,c=r.col;c<l;c++)this.colYs[c]=a;return s},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var l=Math.floor(s/this.columnWidth);l-=s%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),h=(c?n.top:n.bottom)+i.outerHeight,u=a;u<=l;u++)this.colYs[u]=Math.max(h,this.colYs[u])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i},void 0!==(r="function"==typeof n?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){"use strict";var n,o,r;"function"==typeof Symbol&&Symbol.iterator,window,o=[i(1)],void 0!==(r="function"==typeof(n=function(t){var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e})?n.apply(e,o):n)&&(t.exports=r)},function(t,e,i){"use strict";var n,o,r,s;"function"==typeof Symbol&&Symbol.iterator,o=function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||[])[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=i[n+=s?0:1]}return this}},t},r={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},n="function"==typeof o?o.call(r.exports,i,r.exports,r):o,r.loaded=!0,void 0===n&&(n=r.exports),
/*!
 * enviraImagesLoaded v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(i,o){void 0!==(s=function(t){return function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(function(){this.check()}.bind(this))}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var s=t.jQuery,a=t.console;n.prototype=Object.create(e.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var l={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},n.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.pendingSrc||this.img.currentSrc||this.img.src)},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.enviraImagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(s(this))})},n.makeJQueryPlugin(),n}(i,t)}.apply(e,[n]))&&(t.exports=s)}(window)},function(t,e,i){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,i,n,o){function r(t){var e=t.currentTarget,i=t.data?t.data.options:{},o=i.selector?n(i.selector):t.data?t.data.items:[],r=n(e).attr("data-envirabox")||"",s=0,a=n.envirabox.getInstance();t.preventDefault(),a&&a.current.opts.$orig.is(e)||(r?(s=(o=o.length?o.filter('[data-envirabox="'+r+'"]'):n('[data-envirabox="'+r+'"]')).index(e))<0&&(s=0):o=[e],n.envirabox.open(o,i,s))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.envirabox)return void console.info("EnviraBox already initialized");var s={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close","thumbs","close"],idleTime:3,smallBtn:!0,protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{envirabox:!0}}},iframe:{tpl:'<iframe id="envirabox-frame{rnd}" name="envirabox-frame{rnd}" class="envirabox-iframe {additionalClasses}" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},genericDiv:{tpl:'<div id="envirabox-generic-div{rnd}" name="envirabox-generic-div{rnd}" class="fb-video"></div>',preload:!0,provider:"facebook",css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"enviraboxSlide",baseClass:"enviraboxLayout",baseTpl:'<div class="envirabox-container" role="dialog" tabindex="-1"><div class="envirabox-bg"></div><div class="envirabox-inner"><div class="envirabox-infobar"><button data-envirabox-prev title="{{PREV}}" class="envirabox-button envirabox-button--left"></button><div class="envirabox-infobar__body"><span data-envirabox-index></span>&nbsp;/&nbsp;<span data-envirabox-count></span></div><button data-envirabox-next title="{{NEXT}}" class="envirabox-button envirabox-button--right"></button></div><div class="envirabox-toolbar">{{BUTTONS}}</div><div class="envirabox-navigation"><button data-envirabox-prev title="{{PREV}}" class="envirabox-arrow envirabox-arrow--left" /><button data-envirabox-next title="{{NEXT}}" class="envirabox-arrow envirabox-arrow--right" /></div><div class="envirabox-stage"></div><div class="envirabox-caption-wrap"><div class="envirabox-title"></div><div class="envirabox-caption"></div></div></div></div>',spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:'<div class="envirabox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-envirabox-play class="envirabox-button envirabox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-envirabox-fullscreen class="envirabox-button envirabox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-envirabox-thumbs class="envirabox-button envirabox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-envirabox-close class="envirabox-button envirabox-button--close" title="{{CLOSE}}"></button>',download:"",exif:"",smallBtn:'<button data-envirabox-close class="envirabox-close-small" title="{{CLOSE}}"></button>',arrowLeft:"",arrowRight:""},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".envirabox-container",axis:"y",rowHeight:50},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},a=n(t),l=n(i),c=0,h=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},u=function(){var t,e=i.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t];return"transitionend"}(),d=function(t){return t&&t.length&&t[0].offsetHeight},p=function(t,e,o){var r=this;r.opts=n.extend(!0,{index:o},s,e||{}),e&&n.isArray(e.buttons)&&(r.opts.buttons=e.buttons),r.id=r.opts.id||++c,r.group=[],r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=null,r.createGroup(t),r.group.length&&(r.$lastFocus=n(i.activeElement).blur(),r.slides={},r.init(t))};n.extend(p.prototype,{init:function(){var t,e,i,o=this,r=o.group[o.currIndex].opts;o.scrollTop=l.scrollTop(),o.scrollLeft=l.scrollLeft(),n.envirabox.getInstance()||n.envirabox.isMobile||"hidden"===n("body").css("overflow")||(t=n("body").width(),n("html").addClass("envirabox-enabled"),(t=n("body").width()-t)>1&&n("head").append('<style id="envirabox-style-noscroll" type="text/css">.compensate-for-scrollbar, .envirabox-enabled body { margin-right: '+t+"px; }</style>")),i="",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||""}),e=n(o.translate(o,r.baseTpl.replace("{{BUTTONS}}",i))).addClass("envirabox-is-hidden").attr("id","envirabox-container-"+o.id).addClass(r.baseClass).data("EnviraBox",o).prependTo(r.parentEl),o.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","title"].forEach(function(t){o.$refs[t]=e.find(".envirabox-"+t)}),(!r.arrows||o.group.length<2)&&e.find(".envirabox-navigation").remove(),r.infobar||o.$refs.infobar.remove(),r.toolbar||o.$refs.toolbar.remove(),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var n=i[e];return void 0===n?t:n})},createGroup:function(t){var i=this,o=n.makeArray(t);n.each(o,function(t,o){var r,s,a,l,c,h={},u={},d=[];if(n.isPlainObject(o))h=o,u=o.opts||o;else if("object"===n.type(o)&&n(o).length){for(var p in r=n(o),d=r.data(),u="options"in d?d.options:{},u="object"===n.type(u)?u:{},h.src="src"in d?d.src:u.src||r.attr("href"),d)d.hasOwnProperty(p)&&(h[p]=d[p]);["width","height","thumb","type","filter"].forEach(function(t){t in d&&(u[t]=d[t])}),"srcset"in d&&(u.image={srcset:d.srcset}),u.$orig=r,h.type||h.src||(h.type="inline",h.src=o)}else h={type:"html",src:o+""};h.opts=n.extend(!0,{},i.opts,u),n.envirabox.isMobile&&(h.opts=n.extend(!0,{},h.opts,h.opts.mobile)),s=h.type||h.opts.type,a=h.src||"",!s&&a&&(a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":a.match(/\.(pdf)((\?|#).*)?$/i)?s="pdf":(l=a.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(s="video",h.opts.videoFormat||(h.opts.videoFormat="video/"+("ogv"===l[1]?"ogg":l[1]))):"#"===a.charAt(0)&&(s="inline")),h.type=s,h.index=i.group.length,h.opts.$orig&&!h.opts.$orig.length&&delete h.opts.$orig,!h.opts.$thumb&&h.opts.$orig&&(h.opts.$thumb=h.opts.$orig.find("img:first")),h.opts.$thumb&&!h.opts.$thumb.length&&delete h.opts.$thumb,"function"===n.type(h.opts.caption)?h.opts.caption=h.opts.caption.apply(o,[i,h]):"caption"in d?h.opts.caption=d.caption:"object"===e(h.opts)&&"string"==typeof h.opts.caption&&null!==h.opts.caption&&Object.keys(h.opts).length>0?h.opts.caption=h.opts.caption:h.opts.caption="",h.opts.caption=void 0===h.opts.caption?"":h.opts.caption+"",null==h.opts.caption&&(h.opts.caption=""),"function"===n.type(h.opts.title)?h.opts.title=h.opts.title.apply(o,[i,h]):"title"in d?h.opts.title=d.title:"object"===e(h.opts)&&"string"==typeof h.opts.title&&null!==h.opts.title&&Object.keys(h.opts).length>0?h.opts.title=h.opts.title:h.opts.title="",h.opts.title=void 0===h.opts.title?"":h.opts.title+"",null==h.opts.title&&(h.opts.title=""),"ajax"===s&&((c=a.split(/\s+/,2)).length>1&&(h.src=c.shift(),h.opts.filter=c.shift())),void 0!==h.opts.smallBtn&&1==h.opts.smallBtn&&(h.opts.toolbar=!1,h.opts.smallBtn=!0),"pdf"===s&&(h.type="iframe",h.opts.iframe.preload=!1),h.opts.modal&&(h.opts=n.extend(!0,h.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(h)})},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.eb-close","[data-envirabox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("click.eb-prev touchend.eb-prev","[data-envirabox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("click.eb-next touchend.eb-next","[data-envirabox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}),a.on("orientationchange.eb resize.eb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?h(function(){e.update()}):(e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update()},500))}),l.on("focusin.eb",function(t){var o=n.envirabox?n.envirabox.getInstance():null;o.isClosing||!o.current||!o.current.opts.trapFocus||n(t.target).hasClass("envirabox-container")||n(t.target).is(i)||o&&"fixed"!==n(t.target).css("position")&&!o.$refs.container.has(t.target).length&&(t.stopPropagation(),o.focus(),a.scrollTop(e.scrollTop).scrollLeft(e.scrollLeft))}),l.on("keydown.eb",function(t){var i=e.current,o=t.keyCode||t.which;if(i&&i.opts.keyboard&&!n(t.target).is("input")&&!n(t.target).is("textarea"))return 8===o||27===o?(t.preventDefault(),void e.close(t)):37===o||38===o?(t.preventDefault(),void e.previous()):39===o||40===o?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,o)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,l.on("mousemove.eb-idle mouseenter.eb-idle mouseleave.eb-idle mousedown.eb-idle touchstart.eb-idle touchmove.eb-idle scroll.eb-idle keydown.eb-idle",function(){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;a.off("orientationchange.eb resize.eb"),l.off("focusin.eb keydown.eb .eb-idle"),this.$refs.container.off(".eb-close .eb-prev .eb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e,i){var o,r,s,a,l,c,h,u=this,p=u.group.length;if(!(u.isSliding||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),!(r=u.current?u.current.opts.loop:u.opts.loop)&&(t<0||t>=p))return!1;if(o=u.firstRun=null===u.firstRun,!(p<2&&!o&&u.isSliding)){if(a=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,s=u.createSlide(t),p>1&&((r||s.index>0)&&u.createSlide(t-1),(r||s.index<p-1)&&u.createSlide(t+1)),u.current=s,u.currIndex=s.index,u.currPos=s.pos,u.trigger("beforeShow",o),u.updateControls(),c=n.envirabox.getTranslate(s.$slide),s.isMoved=(0!==c.left||0!==c.top)&&!s.$slide.hasClass("envirabox-animated"),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?"animationDuration":"transitionDuration"],e=parseInt(e,10),o)return s.opts.animationEffect&&e&&u.$refs.container.css("transition-duration",e+"ms"),u.$refs.container.removeClass("envirabox-is-hidden"),d(u.$refs.container),u.$refs.container.addClass("envirabox-is-open"),s.$slide.addClass("envirabox-slide--current"),u.loadSlide(s),void u.preload();n.each(u.slides,function(t,e){n.envirabox.stop(e.$slide)}),s.$slide.removeClass("envirabox-slide--next envirabox-slide--previous").addClass("envirabox-slide--current"),s.isMoved?(l=Math.round(s.$slide.width()),n.each(u.slides,function(t,i){var o=i.pos-s.pos;n.envirabox.animate(i.$slide,{top:0,left:o*l+o*i.opts.gutter},e,function(){i.$slide.removeAttr("style").removeClass("envirabox-slide--next envirabox-slide--previous"),i.pos===u.currPos&&(s.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style"),s.isLoaded?u.revealContent(s):u.loadSlide(s),u.preload(),a.pos!==s.pos&&(h="envirabox-slide--"+(a.pos>s.pos?"next":"previous"),a.$slide.removeClass("envirabox-slide--complete envirabox-slide--current envirabox-slide--next envirabox-slide--previous"),a.isComplete=!1,e&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?a.$slide.addClass(h):(h="envirabox-animated "+h+" envirabox-fx-"+s.opts.transitionEffect,n.envirabox.animate(a.$slide,h,e,function(){a.$slide.removeClass(h).removeAttr("style")})),u.trigger("afterShow")))}}},createSlide:function(t){var e,i,o=this;return i=(i=t%o.group.length)<0?o.group.length+i:i,!o.slides[t]&&o.group[i]&&(e=n('<div class="envirabox-slide"></div>').appendTo(o.$refs.stage),o.slides[t]=n.extend(!0,{},o.group[i],{pos:t,$slide:e,isLoaded:!1}),o.updateSlide(o.slides[t])),o.slides[t]},scaleToActual:function(t,e,i){var o,r,s,a,l,c=this,h=c.current,u=h.$content,d=parseInt(h.$slide.width(),10),p=parseInt(h.$slide.height(),10),g=h.width,f=h.height;"image"!=h.type||h.hasError||!u||c.isAnimating||(n.envirabox.stop(u),c.isAnimating=!0,t=void 0===t?.5*d:t,e=void 0===e?.5*p:e,a=g/(o=n.envirabox.getTranslate(u)).width,l=f/o.height,r=.5*d-.5*g,s=.5*p-.5*f,g>d&&((r=o.left*a-(t*a-t))>0&&(r=0),r<d-g&&(r=d-g)),f>p&&((s=o.top*l-(e*l-e))>0&&(s=0),s<p-f&&(s=p-f)),c.updateCursor(g,f),n.envirabox.animate(u,{top:s,left:r,scaleX:a,scaleY:l},i||330,function(){c.isAnimating=!1}),c.SlideShow&&c.SlideShow.isActive&&c.SlideShow.stop())},scaleToFit:function(t){var e,i=this,o=i.current,r=o.$content;"image"!=o.type||o.hasError||!r||i.isAnimating||(n.envirabox.stop(r),i.isAnimating=!0,e=i.getFitPos(o),i.updateCursor(e.width,e.height),n.envirabox.animate(r,{top:e.top,left:e.left,scaleX:e.width/r.width(),scaleY:e.height/r.height()},t||330,function(){i.isAnimating=!1}))},getFitPos:function(t){var e,i,o,r,s,l=t.$content,c=t.width,h=t.height,u=t.opts.margin;return!(!l||!l.length||!c&&!h)&&("number"===n.type(u)&&(u=[u,u]),2==u.length&&(u=[u[0],u[1],u[0],u[1]]),a.width()<800&&(u=[0,0,0,0]),e=parseInt(this.$refs.stage.width(),10)-(u[1]+u[3]),i=parseInt(this.$refs.stage.height(),10)-(u[0]+u[2]),o=Math.min(1,e/c,i/h),r=Math.floor(o*c),s=Math.floor(o*h),{top:Math.floor(.5*(i-s))+u[0],left:Math.floor(.5*(e-r))+u[3],width:r,height:s})},update:function(){var t=this;n.each(t.slides,function(e,i){t.updateSlide(i)})},updateSlide:function(t){var e=this,i=t.$content;i&&(t.width||t.height)&&(n.envirabox.stop(i),n.envirabox.setTranslate(i,e.getFitPos(t)),t.pos===e.currPos&&e.updateCursor()),t.$slide.trigger("refresh"),e.trigger("onUpdate",t)},updateCursor:function(t,e){var i=this,n=i.$refs.container.removeClass("envirabox-is-zoomable envirabox-can-zoomIn envirabox-can-drag envirabox-can-zoomOut");i.current&&!i.isClosing&&(i.isZoomable()?(n.addClass("envirabox-is-zoomable"),(void 0!==t&&void 0!==e?t<i.current.width&&e<i.current.height:i.isScaledDown())?n.addClass("envirabox-can-zoomIn"):i.current.opts.touch?n.addClass("envirabox-can-drag"):n.addClass("envirabox-can-zoomOut")):i.current.opts.touch&&n.addClass("envirabox-can-drag"))},isZoomable:function(){var t,e=this,i=e.current;if(i&&!e.isClosing)return!!("image"===i.type&&i.isLoaded&&!i.hasError&&("zoom"===i.opts.clickContent||n.isFunction(i.opts.clickContent)&&"zoom"===i.opts.clickContent(i))&&(t=e.getFitPos(i),i.width>t.width||i.height>t.height))},isScaledDown:function(){var t=this.current,e=t.$content,i=!1;return e&&(i=(i=n.envirabox.getTranslate(e)).width<t.width||i.height<t.height),i},canPan:function(){var t=this.current,e=t.$content,i=!1;return e&&(i=this.getFitPos(t),i=Math.abs(e.width()-i.width)>1||Math.abs(e.height()-i.height)>1),i},loadSlide:function(t){var e,i,o,r=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,r.trigger("beforeLoad",t),e=t.type,(i=t.$slide).off("refresh").trigger("onReset").addClass("envirabox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":r.setImage(t);break;case"video":r.setVideo(t);break;case"iframe":r.setIframe(t);break;case"genericDiv":r.setGenericDiv(t);break;case"html":r.setContent(t,t.src||t.content);break;case"inline":n(t.src).length?r.setContent(t,n(t.src)):r.setError(t);break;case"ajax":r.showLoading(t),o=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,i){"success"===i&&r.setContent(t,e)},error:function(e,i){e&&"abort"!==i&&r.setError(t)}})),i.one("onReset",function(){o.abort()});break;default:r.setError(t)}return!0}},setVideo:function(t){var e=this;if(!e.isClosing){e.hideLoading(t),t.$slide.empty();var i=!1,o=!1,r="",s="controls",a="",l="";if(!1!==t.opts.videoPlayPause&&(l+="videos_play_pause "),!1!==t.opts.videoProgressBar&&(l+="videos_progress "),!1!==t.opts.videoPlaybackTime&&(l+="videos_playback_time "),!1!==t.opts.videoVideoLength&&(l+="videos_video_length "),!1!==t.opts.videoVolumeControls&&(l+="videos_volume_controls "),!1!==t.opts.videoControlBar?l+="videos_controls ":(s="",a+="nodownload nofullscreen noremoteplayback "),!1!==t.opts.videoFullscreen&&(l+="videos_fullscreen "),!1!==t.opts.videoDownload?l+="videos_download ":a+="nodownload ",t.videoWidth>0&&(i="max-width:"+t.videoWidth+"px;"),t.videoHeight>0&&(o="max-height:"+t.videoHeight+"px;"),(i||o)&&(r='style="'+i+o+'"'),0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=n('<div class="envirabox-content video '+l+'" '+r+'"><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').appendTo(t.$slide):t.$content=n('<div class="envirabox-content '+l+'" '+r+"></div>").appendTo(t.$slide),!0===t.opts.smallBtn&&t.$content.prepend(e.translate(t,t.opts.btnTpl.smallBtn)),!0===t.opts.insideCap){var c=void 0!==t.caption?t.caption:"",h=void 0!==t.title?t.title:"",u=t.opts.capPosition?t.opts.capPosition:"",d=!!t.opts.capTitleShow&&t.opts.capTitleShow,p=t.enviraItemId?t.enviraItemId:"",g="caption"==d&&'<div class="envirabox-caption envirabox-caption-item-id-'+p+'">'+c+"</div>";!1!==(g="title"==d?'<div class="envirabox-title envirabox-title-item-id-'+p+'">'+h+"</div>":g)&&void 0!==g&&g.length>0&&t.$content.prepend('<div class="envirabox-caption-wrap '+u+'">'+g+"</div>")}""!=s&&(s=s+' poster="'+(t.videoPlaceholder?t.videoPlaceholder:t.thumb)+'" '+(void 0!==t.videoPlaysInline?t.videoPlaysInline:"playsinline")+' controlsList="'+a+'"');var f=void 0!==t.src?t.src:t.link;n('<div class="envirabox-video-container"><video class="envirabox-video-player" '+s+'><source src="'+f+'" type="video/mp4">Your broswser doesn\'t support HTML5 video</video></div>').appendTo(t.$content),this.afterLoad(t)}},setImage:function(e){var i,o,r,s,a=this,l=e.opts.image.srcset;if(l){r=t.devicePixelRatio||1,s=t.innerWidth*r,(o=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,i){var n=parseInt(t.substring(0,t.length-1),10);if(0===i)return e.url=t;n&&(e.value=n,e.postfix=t[t.length-1])}),e})).sort(function(t,e){return t.value-e.value});for(var c=0;c<o.length;c++){var h=o[c];if("w"===h.postfix&&h.value>=s||"x"===h.postfix&&h.value>=r){i=h;break}}!i&&o.length&&(i=o[o.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value))}if(0!==e.opts.arrows&&"inside"==e.opts.arrow_position?e.$content=n('<div class="envirabox-image-wrap"><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-is-hidden").appendTo(e.$slide):e.$content=n('<div class="envirabox-image-wrap"></div>').addClass("envirabox-is-hidden").appendTo(e.$slide),!0===e.opts.smallBtn&&e.$content.prepend(a.translate(e,e.opts.btnTpl.smallBtn)),!0===e.opts.insideCap){var u=void 0!==e.caption?e.caption:"",d=void 0!==e.title?e.title:"",p=e.opts.capPosition?e.opts.capPosition:"",g=!!e.opts.capTitleShow&&e.opts.capTitleShow,f=e.enviraItemId?e.enviraItemId:"",v="caption"==g&&'<div class="envirabox-caption envirabox-caption-item-id-'+f+'">'+u+"</div>";!1!==(v="title"==g?'<div class="envirabox-title envirabox-title-item-id-'+f+'">'+d+"</div>":v)&&void 0!==v&&v.length>0&&e.$content.prepend('<div class="envirabox-caption-wrap '+p+'">'+v+"</div>")}!1!==e.opts.preload&&e.opts.width&&e.opts.height&&(e.opts.thumb||e.opts.$thumb)?(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",function(){n(this).remove(),e.$ghost=null,a.setBigImage(e)}).one("load",function(){a.afterLoad(e),a.setBigImage(e)}).addClass("envirabox-image").appendTo(e.$content).attr("src",e.opts.thumb||e.opts.$thumb.attr("src"))):a.setBigImage(e)},setBigImage:function(t){var e=this,i=n("<img />");t.$image=i.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&i.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("envirabox-image").attr("src",t.src).appendTo(t.$content),(i[0].complete||"complete"==i[0].readyState)&&i[0].naturalWidth&&i[0].naturalHeight?i.trigger("load"):i[0].error?i.trigger("error"):t.timouts=setTimeout(function(){i[0].complete||t.hasError||e.showLoading(t)},100)},setIframe:function(t){var e,i=this,o=t.opts.iframe,r=t.$slide;if(0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=n('<div class="envirabox-content'+(o.preload?" envirabox-is-hidden":" ")+" provider-"+o.provider+'" ><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-hidden").addClass("envirabox-iframe-hidden").css("width","640px").css("height","360px").appendTo(t.$slide):void 0!==o.provider?t.$content=n('<div class="envirabox-content'+(o.preload?" envirabox-is-hidden":" ")+" provider-"+o.provider+'" ></div>').addClass("envirabox-hidden").addClass("envirabox-iframe-hidden").css("width","640px").css("height","360px").appendTo(r):t.$content=n('<div class="envirabox-content'+(o.preload?" envirabox-is-hidden":" ")+" provider-"+o.provider+'" ></div>').css("width","90%").css("height","90%").appendTo(r),e=n(o.tpl.replace(/\{rnd\}/g,(new Date).getTime()).replace(/\{additionalClasses\}/g,t.contentProvider)).attr(o.attr).appendTo(t.$content).css("width",!1).css("height",!1),o.preload){i.showLoading(t),e.on("load.eb error.eb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)});var s=!1;try{s=e.contents().find("body")}catch(t){console.log("Envira Debugging:"),console.log(t)}s&&s.length&&s.children().length&&($content.css({width:"",height:""}),void 0===frameWidth&&(frameWidth=Math.ceil(Math.max(s[0].clientWidth,s.outerWidth(!0)))),frameWidth&&$content.width(frameWidth),void 0===frameHeight&&(frameHeight=Math.ceil(Math.max(s[0].clientHeight,s.outerHeight(!0)))),frameHeight&&$content.height(frameHeight),$content.removeClass("envirabox-hidden"))}else this.afterLoad(t);if(!0===t.opts.insideCap){var a=void 0!==t.caption?t.caption:"",l=void 0!==t.title?t.title:"",c=t.opts.capPosition?t.opts.capPosition:"",h=!!t.opts.capTitleShow&&t.opts.capTitleShow,u=t.enviraItemId?t.enviraItemId:"",d="caption"==h&&'<div class="envirabox-caption envirabox-caption-item-id-'+u+'">'+a+"</div>";!1!==(d="title"==h?'<div class="envirabox-title envirabox-title-item-id-'+u+'">'+l+"</div>":d)&&void 0!==d&&d.length>0&&t.$content.prepend('<div class="envirabox-caption-wrap '+c+'">'+d+"</div>")}e.attr("src",t.src),!0===t.opts.smallBtn&&t.$content.prepend(i.translate(t,t.opts.btnTpl.smallBtn)),r.one("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1})},setGenericDiv:function(t){var e=t.opts.genericDiv,i=t.$slide,o="640px",r="360px";if(0!==t.opts.arrows&&"inside"==t.opts.arrow_position?t.$content=n('<div class="envirabox-content'+(e.preload?" envirabox-is-hidden":" ")+" provider-"+e.provider+'" ><div class="envirabox-navigation-inside"><a data-envirabox-prev title="prev" class="envirabox-arrow envirabox-arrow--left envirabox-nav envirabox-prev" href="#"><span></span></a><a data-envirabox-next title="next" class="envirabox-arrow envirabox-arrow--right envirabox-nav envirabox-next" href="#"><span></span></a></div>').addClass("envirabox-hidden").css("width",o).css("height",r).appendTo(t.$slide):("facebook"==e.provider&&(o=r="auto"),t.$content=n('<div class="envirabox-content'+(e.preload?" envirabox-is-hidden":" ")+" provider-"+e.provider+'" ></div>').addClass("envirabox-hidden").css("width",o).css("height",r).appendTo(i)),n(e.tpl.replace(/\{rnd\}/g,(new Date).getTime()).replace(/\{additionalClasses\}/g,t.contentProvider)).attr(e.attr).attr("data-href",t.src).appendTo(t.$content).css("width",o).css("height",r),this.afterLoad(t),!0===t.opts.insideCap){var s=void 0!==t.caption?t.caption:"",a=void 0!==t.title?t.title:"",l=t.opts.capPosition?t.opts.capPosition:"",c=!!t.opts.capTitleShow&&t.opts.capTitleShow,h=t.enviraItemId?t.enviraItemId:"",u="caption"==c&&'<div class="envirabox-caption envirabox-caption-item-id-'+h+'">'+s+"</div>";!1!==(u="title"==c?'<div class="envirabox-title envirabox-title-item-id-'+h+'">'+a+"</div>":u)&&void 0!==u&&u.length>0&&t.$content.prepend('<div class="envirabox-caption-wrap '+l+'">'+u+"</div>")}!0===t.opts.smallBtn&&t.$content.prepend(this.translate(t,t.opts.btnTpl.smallBtn)),i.one("onReset",function(){try{n(this).find("genericDiv").hide().attr("src","//about:blank")}catch(t){}n(this).empty(),t.isLoaded=!1})},setContent:function(t,e){var i=this;i.isClosing||(i.hideLoading(t),t.$slide.empty(),function(t){return t&&t.hasOwnProperty&&t instanceof n}(e)&&e.parent().length?(e.parent(".envirabox-slide--inline").trigger("onReset"),t.$placeholder=n("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(3===(e=n("<div>").append(n.trim(e)).contents())[0].nodeType&&(e=n("<div>").html(e))),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)}),t.$content=n(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=n(i.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content.filter("div").first())),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("envirabox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.eb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="envirabox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,o,r,s,a=this,l=t.$slide,c=!1;return e=t.opts[a.firstRun?"animationEffect":"transitionEffect"],o=t.opts[a.firstRun?"animationDuration":"transitionDuration"],o=parseInt(void 0===t.forcedDuration?o:t.forcedDuration,10),!t.isMoved&&t.pos===a.currPos&&o||(e=!1),"zoom"!==e||t.pos===a.currPos&&o&&"image"===t.type&&!t.hasError&&(c=a.getThumbPos(t))||(e="fade"),"zoom"===e?((s=a.getFitPos(t)).scaleX=s.width/c.width,s.scaleY=s.height/c.height,delete s.width,delete s.height,"auto"==(r=t.opts.zoomOpacity)&&(r=Math.abs(t.width/t.height-c.width/c.height)>.1),r&&(c.opacity=.1,s.opacity=1),n.envirabox.setTranslate(t.$content.removeClass("envirabox-is-hidden"),c),d(t.$content),void n.envirabox.animate(t.$content,s,o,function(){a.complete()})):(a.updateSlide(t),e?(n.envirabox.stop(l),i="envirabox-animated envirabox-slide--"+(t.pos>a.prevPos?"next":"previous")+" envirabox-fx-"+e,l.removeAttr("style").removeClass("envirabox-slide--current envirabox-slide--next envirabox-slide--previous").addClass(i),t.$content.removeClass("envirabox-is-hidden"),d(l),void n.envirabox.animate(l,"envirabox-slide--current",o,function(e){l.removeClass(i).removeAttr("style"),t.pos===a.currPos&&a.complete()},!0)):(d(l),t.$content.removeClass("envirabox-is-hidden"),void(t.pos===a.currPos&&a.complete())))},getThumbPos:function(e){var o,r=!1,s=e.opts.$thumb,a=s?s.offset():0;return a&&s[0].ownerDocument===i&&function(e){for(var i=s[0],o=i.getBoundingClientRect(),r=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||r.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return r.every(function(t){var e=Math.min(o.right,t.right)-Math.max(o.left,t.left),i=Math.min(o.bottom,t.bottom)-Math.max(o.top,t.top);return e>0&&i>0})&&o.bottom>0&&o.right>0&&o.left<n(t).width()&&o.top<n(t).height()}()&&(o=this.$refs.stage.offset(),r={top:a.top-o.top+parseFloat(s.css("border-top-width")||0),left:a.left-o.left+parseFloat(s.css("border-left-width")||0),width:s.width(),height:s.height(),scaleX:1,scaleY:1}),r},complete:function(){var t=this,e=t.current,o={};e.isMoved||!e.isLoaded||e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),d(e.$slide),e.$slide.addClass("envirabox-slide--complete"),n.each(t.slides,function(e,i){i.pos>=t.currPos-1&&i.pos<=t.currPos+1?o[i.pos]=i:i&&(n.envirabox.stop(i.$slide),i.$slide.off().remove())}),t.slides=o,t.updateCursor(),t.trigger("afterShow"),(n(i.activeElement).is("[disabled]")||e.opts.autoFocus&&"image"!=e.type&&"iframe"!==e.type)&&t.focus())},preload:function(){var t,e,i=this;i.group.length<2||(t=i.slides[i.currPos+1],e=i.slides[i.currPos-1],t&&"image"===t.type&&i.loadSlide(t),e&&"image"===e.type&&i.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(e&&e.isComplete&&((t=e.$slide.find("input[autofocus]:enabled:visible:first")).length||(t=e.$slide.find("button,:input,[tabindex],a").filter(":enabled:visible:first"))),(t=t&&t.length?t:this.$refs.container).focus())},activate:function(){var t=this;n(".envirabox-container").each(function(){var e=n(this).data("envirabox");e&&e.uid!==t.uid&&!e.isClosing&&e.trigger("onDeactivate")}),t.current&&(t.$refs.container.index()>0&&t.$refs.container.prependTo(i.body),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var i,o,r,s,a,l,c=this,d=c.current,p=function(){c.cleanUp(t)};return!(c.isClosing||(c.isClosing=!0,!1===c.trigger("beforeClose",t)?(c.isClosing=!1,h(function(){c.update()}),1):(c.removeEvents(),d.timouts&&clearTimeout(d.timouts),r=d.$content,i=d.opts.animationEffect,o=n.isNumeric(e)?e:i?d.opts.animationDuration:0,d.$slide.off(u).removeClass("envirabox-slide--complete envirabox-slide--next envirabox-slide--previous envirabox-animated"),d.$slide.siblings().trigger("onReset").remove(),o&&c.$refs.container.removeClass("envirabox-is-open").addClass("envirabox-is-closing"),c.hideLoading(d),c.hideControls(),c.updateCursor(),"zoom"!==i||!0!==t&&r&&o&&"image"===d.type&&!d.hasError&&(l=c.getThumbPos(d))||(i="fade"),"zoom"===i?(n.envirabox.stop(r),a=n.envirabox.getTranslate(r),a.width=a.width*a.scaleX,a.height=a.height*a.scaleY,s=d.opts.zoomOpacity,"auto"==s&&(s=Math.abs(d.width/d.height-l.width/l.height)>.1),s&&(l.opacity=0),a.scaleX=a.width/l.width,a.scaleY=a.height/l.height,a.width=l.width,a.height=l.height,n.envirabox.setTranslate(d.$content,a),n.envirabox.animate(d.$content,l,o,p),0):(i&&o?!0===t?setTimeout(p,o):n.envirabox.animate(d.$slide.removeClass("envirabox-slide--current"),"envirabox-animated envirabox-slide--previous envirabox-fx-"+i,o,p):p(),0))))},cleanUp:function(t){var e,i=this;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.$lastFocus&&i.current.opts.backFocus&&i.$lastFocus.focus(),i.current=null,(e=n.envirabox.getInstance())?e.activate():(a.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft),n("html").removeClass("envirabox-enabled"),n("#envirabox-style-noscroll").remove())},trigger:function(t,e){var i,o=Array.prototype.slice.call(arguments,1),r=this,s=e&&e.opts?e:r.current;if(s?o.unshift(s):s=r,o.unshift(r),n.isFunction(s.opts[t])&&(i=s.opts[t].apply(s,o)),!1===i)return i;"afterClose"===t?l.trigger(t+".eb",o):r.$refs.container.trigger(t+".eb",o)},updateControls:function(t){var e=this,i=e.current,o=i.index,r=i.opts,s=r.caption,a=r.title,l=e.$refs.caption,c=e.$refs.title;i.$slide.trigger("refresh"),e.$caption=s&&s.length?l.html(s):null,e.$title=a&&a.length?c.html(a):null,e.isHiddenControls||e.showControls(),n("[data-envirabox-count]").html(e.group.length),n("[data-envirabox-index]").html(o+1),n("[data-envirabox-prev]").prop("disabled",!r.loop&&o<=0),n("[data-envirabox-next]").prop("disabled",!r.loop&&o>=e.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("envirabox-show-infobar envirabox-show-toolbar envirabox-show-caption envirabox-show-title envirabox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,i=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("envirabox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("envirabox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("envirabox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("envirabox-is-modal",!!e.modal),t.$caption?i.addClass("envirabox-show-caption "):i.removeClass("envirabox-show-caption"),t.$title?i.addClass("envirabox-show-title "):i.removeClass("envirabox-show-title")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.envirabox={version:"{envirabox-version}",defaults:s,getInstance:function(t){var e=n('.envirabox-container:not(".envirabox-is-closing"):first').data("envirabox"),i=Array.prototype.slice.call(arguments,1);return e instanceof p&&("string"===n.type(t)?e[t].apply(e,i):"function"===n.type(t)&&t.apply(e,i),e)},open:function(t,e,i){if(!this.getInstance())return new p(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),l.off("click.eb-start")},isMobile:void 0!==i.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var e=i.createElement("div");return t.getComputedStyle&&t.getComputedStyle(e).getPropertyValue("transform")&&!(i.documentMode&&i.documentMode<11)}(),getTranslate:function(t){var e;if(!t||!t.length)return!1;if((e=t.eq(0).css("transform"))&&-1!==e.indexOf("matrix")?e=(e=(e=e.split("(")[1]).split(")")[0]).split(","):e=[],e.length)e=(e=e.length>10?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]]).map(parseFloat);else{e=[0,0,1,1];var i=/\.*translate\((.*)px,(.*)px\)/i.exec(t.eq(0).attr("style"));i&&(e[0]=parseFloat(i[2]),e[1]=parseFloat(i[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var i="",n={};if(t&&e)return void 0===e.left&&void 0===e.top||(i=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),void 0!==e.scaleX&&void 0!==e.scaleY&&(i=(i.length?i+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),i.length&&(n.transform=i),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.width&&(n.width=e.width),void 0!==e.height&&(n.height=e.height),t.css(n)},animate:function(t,e,i,o,r){var s=u||"transitionend";n.isFunction(i)&&(o=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),t.on(s,function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(t.off(s),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&(t.css("transition-duration","0ms"),e.width=Math.round(t.width()*e.scaleX),e.height=Math.round(t.height()*e.scaleY),e.scaleX=1,e.scaleY=1,n.envirabox.setTranslate(t,e)):!0!==r&&t.removeClass(e),n.isFunction(o)&&o(i))}),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?n.envirabox.setTranslate(t,e):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(u)}},n.fn.envirabox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.eb-start",e).on("click.eb-start",e,{options:t},r):this.off("click.eb-start").on("click.eb-start",{items:this,options:t},r),this}}}(window,document,window.jQuery||t)}).call(this,i(0))},function(t,e,i){"use strict";!function(t,e){var i=function(){var e,i,n,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r={};for(i=0;i<o.length;i++)if((e=o[i])&&e[1]in t){for(n=0;n<e.length;n++)r[o[0][n]]=e[n];return r}return!1}();if(i){var n={request:function(e){(e=e||t.documentElement)[i.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[i.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[i.fullscreenElement])},enabled:function(){return Boolean(t[i.fullscreenEnabled])}};e(t).on({"onInit.eb":function(t,e){var i,o=e.$refs.toolbar.find("[data-envirabox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?((i=e.$refs.container).on("click.eb-fullscreen","[data-envirabox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle(i[0])}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(i[0]),e.FullScreen=n):o.hide()},"afterKeydown.eb":function(t,e,i,n,o){e&&e.FullScreen&&70===o&&(n.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.eb":function(t){t&&t.FullScreen&&n.exit()}}),e(t).on(i.fullscreenchange,function(){var i=e.envirabox.getInstance();i.current&&"image"===i.current.type&&i.isAnimating&&(i.current.$content.css("transition","none"),i.isAnimating=!1,i.update(!0,!0,0)),e(t).trigger("onFullscreenChange",n.isFullscreen())})}else e&&e.envirabox&&(e.envirabox.defaults.btnTpl.fullScreen=!1)}(document,window.jQuery)},function(t,e,i){"use strict";!function(t){var e=function(e,i,n){if(e)return n=n||"","object"===t.type(n)&&(n=t.param(n,!0)),t.each(i,function(t,i){e=e.replace("$"+t,i||"")}),n.length&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},i={youtube_playlist:{matcher:/^http:\/\/(?:www\.)?youtube\.com\/watch\?((v=[^&\s]*&list=[^&\s]*)|(list=[^&\s]*&v=[^&\s]*))(&[^&\s]*)*$/,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/videoseries?list=$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},facebook:{matcher:/facebook.com\/facebook\/videos\/(.*)\/?(.*)/,type:"genericDiv",subtype:"facebook",url:"//www.facebook.com/facebook/videos/$1"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},instagram_tv:{matcher:/(instagr\.am|instagram\.com)\/tv\/([a-zA-Z0-9_\-]+)\/?/i,type:"iframe",url:"//$1/p/$2/media/?size=l"},wistia:{matcher:/wistia.com\/medias\/(.*)\/?(.*)/,type:"iframe",url:"//fast.wistia.net/embed/iframe/$1"},twitch:{matcher:/player.twitch.tv\/[\\?&]video=([^&#]*)/,type:"iframe",url:"//player.twitch.tv/?video=$1"},videopress:{matcher:/videopress.com\/v\/(.*)\/?(.*)/,type:"iframe",url:"//videopress.com/embed/$1"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("onInit.eb",function(n,o){t.each(o.group,function(n,o){var r,s,a,l,c,h,u=o.src||"",d=!1,p=!1,g=!1,f=!1;o.type||(r=t.extend(!0,{},i,o.opts.media),t.each(r,function(i,n){if(a=u.match(n.matcher),h={},a){if(f=i,d=n.type,void 0!==n.subtype&&(p=n.subtype),n.paramPlace&&a[n.paramPlace]){"?"==(c=a[n.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var r=0;r<c.length;++r){var v=c[r].split("=",2);2==v.length&&(h[v[0]]=decodeURIComponent(v[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},n.params,o.opts[i],h),g="function"===t.type(n.url)?n.url.call(this,a,l,o):e(n.url,a,l),s="function"===t.type(n.thumb)?n.thumb.call(this,a,l,o):e(n.thumb,a),"vimeo"===f&&(g=g.replace("&%23","#")),!1}}),d?(o.src=g,o.type=d,o.subtype=p,o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=s),"iframe"===d&&(t.extend(!0,o.opts,{iframe:{preload:!1,provider:f,attr:{scrolling:"no"}}}),o.contentProvider=f,o.opts.slideClass+=" envirabox-slide--"+("gmap_place"==f||"gmap_search"==f?"map":"video"))):o.type="image")})})}(window.jQuery)},function(t,e,i){"use strict";(function(t){!function(t,e){var i=(new Date).getTime();e(t).on({"onInit.eb":function(t,e,n){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var n=e.current,o=(new Date).getTime();e.group.length<1||!1===n.opts.wheel||"auto"===n.opts.wheel&&"image"!==n.type||(t.preventDefault(),t.stopPropagation(),n.$slide.hasClass("envirabox-animated")||(t=t.originalEvent||t,o-i<250||(i=o,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||t)}).call(this,i(0))},function(t,e,i){"use strict";(function(t){!function(t,e,i){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},r=function(e){var i=[];for(var n in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[n].pageX?i.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&i.push({x:e[n].clientX,y:e[n].clientY});return i},s=function(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},a=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea')||i.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,n=t[0].attributes,o=n.length;e<o;e++)if("data-envirabox-"===n[e].nodeName.substr(0,14))return!0;return!1},l=function(e){var i=t.getComputedStyle(e)["overflow-y"],n=t.getComputedStyle(e)["overflow-x"],o=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,r=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth;return o||r},c=function(t){for(var e=!1;!(e=l(t.get(0)))&&((t=t.parent()).length&&!t.hasClass("envirabox-stage")&&!t.is("body")););return e},h=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.eb.touch mousedown.eb.touch",i.proxy(e,"ontouchstart"))};h.prototype.destroy=function(){this.$container.off(".eb.touch")},h.prototype.ontouchstart=function(n){var o=this,l=i(n.target),h=o.instance,u=h.current,d=u.$content,p="touchstart"==n.type;if(p&&o.$container.off("mousedown.eb.touch"),!u||o.instance.isAnimating||o.instance.isClosing)return n.stopPropagation(),void n.preventDefault();if((!n.originalEvent||2!=n.originalEvent.button)&&l.length&&!a(l)&&!a(l.parent())&&!(n.originalEvent.clientX>l[0].clientWidth+l.offset().left)&&(o.startPoints=r(n),o.startPoints&&!(o.startPoints.length>1&&h.isSliding))){if(o.$target=l,o.$content=d,o.canTap=!0,o.opts=u.opts.touch,i(e).off(".eb.touch"),i(e).on(p?"touchend.eb.touch touchcancel.eb.touch":"mouseup.eb.touch mouseleave.eb.touch",i.proxy(o,"ontouchend")),i(e).on(p?"touchmove.eb.touch":"mousemove.eb.touch",i.proxy(o,"ontouchmove")),!o.opts&&!h.canPan()||!l.is(o.$stage)&&!o.$stage.find(l).length)return void(l.is("img")&&n.preventDefault());n.stopPropagation(),i.envirabox.isMobile&&(c(o.$target)||c(o.$target.parent()))||n.preventDefault(),o.canvasWidth=Math.round(u.$slide[0].clientWidth),o.canvasHeight=Math.round(u.$slide[0].clientHeight),o.startTime=(new Date).getTime(),o.distanceX=o.distanceY=o.distance=0,o.isPanning=!1,o.isSwiping=!1,o.isZooming=!1,o.sliderStartPos=o.sliderLastPos||{top:0,left:0},o.contentStartPos=i.envirabox.getTranslate(o.$content),o.contentLastPos=null,1!==o.startPoints.length||o.isZooming||(o.canTap=!h.isSliding,"image"===u.type&&(o.contentStartPos.width>o.canvasWidth+1||o.contentStartPos.height>o.canvasHeight+1)?(i.envirabox.stop(o.$content),o.$content.css("transition-duration","0ms"),o.isPanning=!0):o.isSwiping=!0,o.$container.addClass("envirabox-controls--isGrabbing")),2!==o.startPoints.length||h.isAnimating||u.hasError||"image"!==u.type||!u.isLoaded&&!u.$ghost||(o.isZooming=!0,o.isSwiping=!1,o.isPanning=!1,i.envirabox.stop(o.$content),o.$content.css("transition-duration","0ms"),o.centerPointStartX=.5*(o.startPoints[0].x+o.startPoints[1].x)-i(t).scrollLeft(),o.centerPointStartY=.5*(o.startPoints[0].y+o.startPoints[1].y)-i(t).scrollTop(),o.percentageOfImageAtPinchPointX=(o.centerPointStartX-o.contentStartPos.left)/o.contentStartPos.width,o.percentageOfImageAtPinchPointY=(o.centerPointStartY-o.contentStartPos.top)/o.contentStartPos.height,o.startDistanceBetweenFingers=s(o.startPoints[0],o.startPoints[1]))}},h.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=r(t),i.envirabox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);if((e.opts||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0)){if(!e.$target.is(e.$stage)&&!e.$stage.find(e.$target).length)return;t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()}},h.prototype.onSwipe=function(){var e,r=this,s=r.isSwiping,a=r.sliderStartPos.left||0;!0===s?Math.abs(r.distance)>10&&(r.canTap=!1,r.instance.group.length<2&&r.opts.vertical?r.isSwiping="y":r.instance.isSliding||!1===r.opts.vertical||"auto"===r.opts.vertical&&i(t).width()>800?r.isSwiping="x":(e=Math.abs(180*Math.atan2(r.distanceY,r.distanceX)/Math.PI),r.isSwiping=e>45&&e<135?"y":"x"),r.instance.isSliding=r.isSwiping,r.startPoints=r.newPoints,i.each(r.instance.slides,function(t,e){i.envirabox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===r.instance.current.pos&&(r.sliderStartPos.left=i.envirabox.getTranslate(e.$slide).left)}),r.instance.SlideShow&&r.instance.SlideShow.isActive&&r.instance.SlideShow.stop()):("x"==s&&(r.distanceX>0&&(r.instance.group.length<2||0===r.instance.current.index&&!r.instance.current.opts.loop)?a+=Math.pow(r.distanceX,.8):r.distanceX<0&&(r.instance.group.length<2||r.instance.current.index===r.instance.group.length-1&&!r.instance.current.opts.loop)?a-=Math.pow(-r.distanceX,.8):a+=r.distanceX),r.sliderLastPos={top:"x"==s?0:r.sliderStartPos.top+r.distanceY,left:a},r.requestId&&(o(r.requestId),r.requestId=null),r.requestId=n(function(){r.sliderLastPos&&(i.each(r.instance.slides,function(t,e){var n=e.pos-r.instance.currPos;i.envirabox.setTranslate(e.$slide,{top:r.sliderLastPos.top,left:r.sliderLastPos.left+n*r.canvasWidth+n*e.opts.gutter})}),r.$container.addClass("envirabox-is-sliding"))}))},h.prototype.onPan=function(){var t,e,r,s=this;s.canTap=!1,t=s.contentStartPos.width>s.canvasWidth?s.contentStartPos.left+s.distanceX:s.contentStartPos.left,e=s.contentStartPos.top+s.distanceY,(r=s.limitMovement(t,e,s.contentStartPos.width,s.contentStartPos.height)).scaleX=s.contentStartPos.scaleX,r.scaleY=s.contentStartPos.scaleY,s.contentLastPos=r,s.requestId&&(o(s.requestId),s.requestId=null),s.requestId=n(function(){i.envirabox.setTranslate(s.$content,s.contentLastPos)})},h.prototype.limitMovement=function(t,e,i,n){var o,r,s,a,l=this,c=l.canvasWidth,h=l.canvasHeight,u=l.contentStartPos.left,d=l.contentStartPos.top,p=l.distanceX,g=l.distanceY;return o=Math.max(0,.5*c-.5*i),r=Math.max(0,.5*h-.5*n),s=Math.min(c-i,.5*c-.5*i),a=Math.min(h-n,.5*h-.5*n),i>c&&(p>0&&t>o&&(t=o-1+Math.pow(-o+u+p,.8)||0),p<0&&t<s&&(t=s+1-Math.pow(s-u-p,.8)||0)),n>h&&(g>0&&e>r&&(e=r-1+Math.pow(-r+d+g,.8)||0),g<0&&e<a&&(e=a+1-Math.pow(a-d-g,.8)||0)),{top:e,left:t}},h.prototype.limitPosition=function(t,e,i,n){var o=this.canvasWidth,r=this.canvasHeight;return i>o?t=(t=t>0?0:t)<o-i?o-i:t:t=Math.max(0,o/2-i/2),n>r?e=(e=e>0?0:e)<r-n?r-n:e:e=Math.max(0,r/2-n/2),{top:e,left:t}},h.prototype.onZoom=function(){var e=this,r=e.contentStartPos.width,a=e.contentStartPos.height,l=e.contentStartPos.left,c=e.contentStartPos.top,h=s(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,u=Math.floor(r*h),d=Math.floor(a*h),p=(r-u)*e.percentageOfImageAtPinchPointX,g=(a-d)*e.percentageOfImageAtPinchPointY,f=(e.newPoints[0].x+e.newPoints[1].x)/2-i(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-i(t).scrollTop(),m=f-e.centerPointStartX,y={top:c+(g+(v-e.centerPointStartY)),left:l+(p+m),scaleX:e.contentStartPos.scaleX*h,scaleY:e.contentStartPos.scaleY*h};e.canTap=!1,e.newWidth=u,e.newHeight=d,e.contentLastPos=y,e.requestId&&(o(e.requestId),e.requestId=null),e.requestId=n(function(){i.envirabox.setTranslate(e.$content,e.contentLastPos)})},h.prototype.ontouchend=function(t){var n=this,s=Math.max((new Date).getTime()-n.startTime,1),a=n.isSwiping,l=n.isPanning,c=n.isZooming;if(n.endPoints=r(t),n.$container.removeClass("envirabox-controls--isGrabbing"),i(e).off(".eb.touch"),n.requestId&&(o(n.requestId),n.requestId=null),n.isSwiping=!1,n.isPanning=!1,n.isZooming=!1,n.canTap)return n.onTap(t);n.speed=366,n.velocityX=n.distanceX/s*.5,n.velocityY=n.distanceY/s*.5,n.speedX=Math.max(.5*n.speed,Math.min(1.5*n.speed,1/Math.abs(n.velocityX)*n.speed)),l?n.endPanning():c?n.endZooming():n.endSwiping(a)},h.prototype.endSwiping=function(t){var e=this,n=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&Math.abs(e.distanceY)>50?(i.envirabox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),n=e.instance.close(!0,300)):"x"==t&&e.distanceX>50&&e.instance.group.length>1?n=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&e.instance.group.length>1&&(n=e.instance.next(e.speedX)),!1!==n||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("envirabox-is-sliding")},h.prototype.endPanning=function(){var t,e,n,o=this;o.contentLastPos&&(!1===o.opts.momentum?(t=o.contentLastPos.left,e=o.contentLastPos.top):(t=o.contentLastPos.left+o.velocityX*o.speed,e=o.contentLastPos.top+o.velocityY*o.speed),(n=o.limitPosition(t,e,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,n.height=o.contentStartPos.height,i.envirabox.animate(o.$content,n,330))},h.prototype.endZooming=function(){var t,e,n,o,r=this,s=r.instance.current,a=r.newWidth,l=r.newHeight;r.contentLastPos&&(t=r.contentLastPos.left,o={top:e=r.contentLastPos.top,left:t,width:a,height:l,scaleX:1,scaleY:1},i.envirabox.setTranslate(r.$content,o),a<r.canvasWidth&&l<r.canvasHeight?r.instance.scaleToFit(150):a>s.width||l>s.height?r.instance.scaleToActual(r.centerPointStartX,r.centerPointStartY,150):(n=r.limitPosition(t,e,a,l),i.envirabox.setTranslate(r.content,i.envirabox.getTranslate(r.$content)),i.envirabox.animate(r.$content,n,150)))},h.prototype.onTap=function(t){var e,n=this,o=i(t.target),s=n.instance,a=s.current,l=t&&r(t)||n.startPoints,c=l[0]?l[0].x-n.$stage.offset().left:0,h=l[0]?l[0].y-n.$stage.offset().top:0,u=function(e){var o=a.opts[e];if(i.isFunction(o)&&(o=o.apply(s,[a,t])),o)switch(o){case"close":s.close(n.startEvent);break;case"toggleControls":s.toggleControls(!0);break;case"next":s.next();break;case"nextOrClose":s.group.length>1?s.next():s.close(n.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(c,h):s.group.length<2&&s.close(n.startEvent))}};if(!(t.originalEvent&&2==t.originalEvent.button||s.isSliding||c>o[0].clientWidth+o.offset().left)){if(o.is(".envirabox-bg,.envirabox-inner,.envirabox-outer,.envirabox-container"))e="Outside";else if(o.is(".envirabox-slide"))e="Slide";else{if(!s.current.$content||!s.current.$content.has(t.target).length)return;e="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,Math.abs(c-n.tapX)>50||Math.abs(h-n.tapY)>50||s.isSliding)return this;u("dblclick"+e)}else n.tapX=c,n.tapY=h,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?n.tapped=setTimeout(function(){n.tapped=null,u("click"+e)},300):u("click"+e);return this}},i(e).on("onActivate.eb",function(t,e){e&&!e.Guestures&&(e.Guestures=new h(e))}),i(e).on("beforeClose.eb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery||t)}).call(this,i(0))},function(t,e,i){"use strict";!function(t,e){var i=function(t){this.instance=t,this.init()};e.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=!1,i=t.instance.group[0],n=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-envirabox-thumbs]"),t.instance.group.length>1&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==i.type||i.opts.thumb||i.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(t.$button.on("touchstart click",function(i){i.stopImmediatePropagation(),"touchend"==i.type?(e=!0,t.toggle()):"click"!=i.type||e?e=!1:t.toggle()}),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var t,i,n,o,r,s=this.instance;this.$grid=e('<div class="envirabox-thumbs envirabox-thumbs-'+s.opts.thumbs.position+'"></div>').appendTo(s.$refs.container),r="auto"===s.opts.thumbs.rowHeight?50:s.opts.thumbs.rowHeight;var a=new Image;a.onload=function(){a.src=s.group[0].thumb,n=0!==a.naturalHeight?a.naturalHeight:r},a.src=s.group[0].thumb,n=0!==a.naturalHeight?a.naturalHeight:r,t='<ul style="height:'+n+'px">',e.each(s.group,function(e,n){if(i=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null),o=!!n.opts.videoPlayIcon&&n.opts.videoPlayIcon,i||"image"!==n.type||(i=n.src),i&&i.length){var r=void 0!==n.contentProvider?n.contentProvider:"none";t+='<li data-index="'+e+'"  tabindex="0" class="envirabox-thumbs-loading envirabox-thumb-content-provider-'+r+" envirabox-thumb-type-"+n.type+'"><img class="envirabox-thumb-image-'+n.type+" envirabox-thumb-content-provider-"+r+'" data-src="'+i+'" />',!o||"video"!=n.type&&"genericDiv"!=n.type&&"youtube"!=r&&"vimeo"!=r&&"instagram"!=r&&"twitch"!=r&&"dailymotion"!=r&&"metacafe"!=r&&"wistia"!=r&&"videopress"!=r||(t+='<div class="envira-video-play-icon">Play</div>'),t+="</li>"}}),t+="</ul>",this.$list=e(t).appendTo(this.$grid).on("click touchstart","li",function(){s.jumpTo(e(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var t,i,n,o,s=(e(this).parent().removeClass("envirabox-thumbs-loading"),e(this).outerWidth()),a=e(this).outerHeight();t=this.naturalWidth||this.width,o=(i=this.naturalHeight||this.height)/a,(n=t/s)>=1&&o>=1&&(n>o?(t/=o,i=a):(t=s,i/=n)),e(this).css({width:"auto",height:Math.floor(r),"margin-top":Math.min(0,Math.floor(.3*a-.3*i)),"margin-left":Math.min(0,Math.floor(.5*s-.5*t))}).show()}).each(function(){this.src=e(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("envirabox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("envirabox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("envirabox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.eb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new i(e))},"beforeShow.eb":function(t,e,i,n){var o=e&&e.Thumbs;if(o&&o.isActive){if(i.modal)return o.$button.hide(),void o.hide();n&&!0===i.opts.thumbs.autoStart&&o.show(),o.isVisible&&o.focus()}},"afterKeydown.eb":function(t,e,i,n,o){var r=e&&e.Thumbs;r&&r.isActive&&71===o&&(n.preventDefault(),r.toggle())},"beforeClose.eb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==e.opts.thumbs.hideOnClose&&i.close()}})}(document,window.jQuery)},function(t,e,i){"use strict";!function(t,e){var i=function(t){this.instance=t,this.init()};e.extend(i.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=e("[data-envirabox-play]").on("click",function(e){e.preventDefault(),t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){1==t.isActive&&t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("envirabox-button--pause"),t.$button.parent().addClass("envirabox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("envirabox-button--pause"),t.$button.parent().removeClass("envirabox-button--pause"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.eb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.eb":function(t,e,i,n){var o=e&&e.SlideShow;n?o&&i.opts.slideShow.autoStart&&o.start():o&&o.isActive&&o.clear()},"afterShow.eb":function(t,e,i){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.eb":function(i,n,o,r,s){var a=n&&n.SlideShow;!a||!o.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(r.preventDefault(),a.toggle())},"beforeClose.eb onDeactivate.eb":function(t,e){var i=e&&e.SlideShow;i&&i.stop()}}),e(t).on("visibilitychange",function(){var i=e.envirabox.getInstance(),n=i&&i.SlideShow;n&&n.isActive&&(t.hidden?n.clear():n.set())})}(document,window.jQuery)},function(t,e,i){"use strict";(function(e){var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){return t&&t.__esModule?t:{default:t}}(i(28)),a=function(){function t(e,i,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;r.data=i,r.images=n,r.id=e,r.envirabox_config=o,r.initImage=!1,r.log(r.data),r.log(r.images),r.log(r.envirabox_config),r.log(r.id),r.init()}return r(t,[{key:"init",value:function(){var t=this;0==parseInt(t.get_config("columns"))&&(t.justified(),t.get_config("lazy_loading")&&(e(document).on("envira_pagination_ajax_load_completed",function(){e("#envira-gallery-"+t.id).on("jg.complete",function(e){e.preventDefault(),t.load_images()})}),t.load_images()),e(document).trigger("envira_gallery_api_justified",t.data)),t.get_config("lazy_loading")&&(t.load_images(),e(window).scroll(function(e){t.load_images()})),parseInt(t.get_config("columns"))>0&&t.get_config("isotope")?(t.enviratopes(),t.get_config("lazy_loading")&&e("#envira-gallery-"+t.id).one("layoutComplete",function(e,i){t.load_images()})):parseInt(t.get_config("columns"))>0&&t.load_images(),(t.get_config("lightbox_enabled")||t.get_config("lightbox"))&&t.lightbox(),e(document).trigger("envira_gallery_api_init",t)}},{key:"load_images",value:function(){var t=this;t.log("running: #envira-gallery-"+t.id),s.default.run("#envira-gallery-"+t.id),e("#envira-gallery-"+t.id).hasClass("enviratope")&&e("#envira-gallery-"+t.id).enviraImagesLoaded().done(function(){setTimeout(function(){e("#envira-gallery-"+t.id).enviratope("layout"),t.log("done: #envira-gallery-"+t.id)},500)}).progress(function(){e("#envira-gallery-"+t.id).enviratope("layout"),t.log("progress: #envira-gallery-"+t.id)})}},{key:"justified",value:function(){var t=this;e("#envira-gallery-"+t.id).enviraJustifiedGallery({rowHeight:t.is_mobile()?this.get_config("mobile_justified_row_height"):this.get_config("justified_row_height"),maxRowHeight:-1,waitThumbnailsLoad:!0,selector:"> div > div",lastRow:this.get_config("justified_last_row"),border:0,margins:this.get_config("justified_margins")}),e(document).trigger("envira_gallery_api_start_justified",t),e("#envira-gallery-"+this.id).css("opacity","1")}},{key:"justified_norewind",value:function(){e("#envira-gallery-"+self.id).enviraJustifiedGallery("norewind")}},{key:"enviratopes",value:function(){var t=this;e(document).trigger("envira_gallery_api_enviratope_config",[t]),e("#envira-gallery-"+t.id).enviratope({itemSelector:".envira-gallery-item",masonry:{columnWidth:".envira-gallery-item"}}),e("#envira-gallery-"+t.id).enviraImagesLoaded().done(function(){e("#envira-gallery-"+t.id).enviratope("layout")}).progress(function(){e("#envira-gallery-"+t.id).enviratope("layout")}),e(document).trigger("envira_gallery_api_enviratope",[t])}},{key:"lightbox",value:function(){var t=this,i=t.get_config("mobile_touchwipe_close")?{vertical:!0,momentum:!0}:{vertical:!1,momentum:!1},r=!t.get_config("thumbnails_hide")||t.get_config("thumbnails_hide"),s=t.is_mobile()?this.get_config("mobile_thumbnails_height"):this.get_config("thumbnails_height"),a=!!t.get_config("thumbnails")&&{autoStart:r,hideOnClose:!0,position:t.get_lightbox_config("thumbs_position"),rowHeight:s},l=!!t.get_config("slideshow")&&{autoStart:t.get_config("autoplay"),speed:t.get_config("ss_speed")},c=!t.get_config("fullscreen")||!t.get_config("open_fullscreen")||{autoStart:!0},h="zomm-in-out"==t.get_config("lightbox_open_close_effect")?"zoom-in-out":t.get_config("lightbox_open_close_effect"),u="zomm-in-out"==t.get_config("effect")?"zoom":t.get_config("effect"),d=[],p="";if(t.lightbox_options={selector:'[data-envirabox="'+t.id+'"]',loop:t.get_config("loop"),margin:t.get_lightbox_config("margins"),gutter:t.get_lightbox_config("gutter"),keyboard:t.get_config("keyboard"),arrows:t.get_lightbox_config("arrows"),arrow_position:t.get_lightbox_config("arrow_position"),infobar:t.get_lightbox_config("infobar"),toolbar:t.get_lightbox_config("toolbar"),idleTime:!!t.get_lightbox_config("idle_time")&&t.get_lightbox_config("idle_time"),smallBtn:t.get_lightbox_config("show_smallbtn"),protect:!1,image:{preload:!1},animationEffect:h,animationDuration:t.get_lightbox_config("animation_duration")?t.get_lightbox_config("animation_duration"):300,btnTpl:{smallBtn:t.get_lightbox_config("small_btn_template")},zoomOpacity:"auto",transitionEffect:u,transitionDuration:t.get_lightbox_config("transition_duration")?t.get_lightbox_config("transition_duration"):200,baseTpl:t.get_lightbox_config("base_template"),spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:t.get_lightbox_config("error_template"),fullScreen:!!t.get_config("fullscreen")&&c,touch:i,hash:!1,insideCap:t.get_lightbox_config("inner_caption"),capPosition:t.get_lightbox_config("caption_position"),capTitleShow:!(!t.get_config("lightbox_title_caption")||"none"==t.get_config("lightbox_title_caption")||"0"==t.get_config("lightbox_title_caption"))&&t.get_config("lightbox_title_caption"),media:{youtube:{params:{autoplay:0}}},wheel:0!=this.get_config("mousewheel"),slideShow:l,thumbs:a,mobile:{clickContent:function(e,i){return t.get_lightbox_config("click_content")?t.get_lightbox_config("click_content"):"toggleControls"},clickSlide:function(e,i){return t.get_lightbox_config("click_slide")?t.get_lightbox_config("click_slide"):"close"},dblclickContent:!1,dblclickSlide:!1},clickContent:t.get_lightbox_config("click_content")?t.get_lightbox_config("click_content"):"toggleControls",clickSlide:t.get_lightbox_config("click_slide")?t.get_lightbox_config("click_slide"):"close",clickOutside:t.get_lightbox_config("click_outside")?t.get_lightbox_config("click_outside"):"toggleControls",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,videoPlayPause:!!t.get_config("videos_playpause"),videoProgressBar:!!t.get_config("videos_progress"),videoPlaybackTime:!!t.get_config("videos_current"),videoVideoLength:!!t.get_config("videos_duration"),videoVolumeControls:!!t.get_config("videos_volume"),videoControlBar:!!t.get_config("videos_controls"),videoFullscreen:!!t.get_config("videos_fullscreen"),videoDownload:!!t.get_config("videos_download"),videoPlayIcon:!!t.get_config("videos_play_icon_thumbnails"),onInit:function(i,n){t.initImage=!0,e(document).trigger("envirabox_api_on_init",[t,i,n])},beforeLoad:function(i,n){e(document).trigger("envirabox_api_before_load",[t,i,n])},afterLoad:function(i,n){e(document).trigger("envirabox_api_after_load",[t,i,n])},beforeShow:function(i,n){"base"==t.data.lightbox_theme&&""==p&&e(".envirabox-position-overlay").length>0&&(p=e(".envirabox-position-overlay")),t.initImage=!1,0===t.get_config("loop")&&0==i.currIndex?e(".envirabox-slide--current a.envirabox-prev").hide():e(".envirabox-slide--current a.envirabox-prev").show(),0===t.get_config("loop")&&i.currIndex==Object.keys(i.group).length-1?e(".envirabox-slide--current a.envirabox-next").hide():e(".envirabox-slide--current a.envirabox-next").show(),e(document).trigger("envirabox_api_before_show",[t,i,n])},afterShow:function(i,n){if(void 0==o||void 0==r)var o=!1,r=!1;1!=o&&(e(".envirabox-position-overlay").each(function(){e(this).prependTo(n.$content)}),o=!0),0===t.get_config("loop")&&0==i.currIndex?e(".envirabox-outer a.envirabox-prev").hide():e(".envirabox-outer a.envirabox-prev").show(),0===t.get_config("loop")&&i.currIndex==Object.keys(i.group).length-1?e(".envirabox-outer a.envirabox-next").hide():e(".envirabox-outer a.envirabox-next").show(),void 0!==t.get_config("keyboard")&&0===t.get_config("keyboard")&&e(window).keypress(function(t){[32,37,38,39,40].indexOf(t.keyCode)>-1&&t.preventDefault()}),e(".envirabox-slide--current .envirabox-title").css("visibility","visible"),e(".envirabox-slide--current .envirabox-caption").length>0&&e(".envirabox-slide--current .envirabox-caption").html().length>0?(e(".envirabox-slide--current .envirabox-caption").css("visibility","visible"),e(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","visible")):(e(".envirabox-slide--current .envirabox-caption").css("visibility","hidden"),e(".envirabox-slide--current .envirabox-caption-wrap").css("visibility","hidden")),e(".envirabox-navigation").show(),e(".envirabox-navigation-inside").show(),void 0!==p&&""!=p&&e(".envirabox-slide--current .envirabox-image-wrap").length>0?e(".envirabox-image-wrap").prepend(p):void 0!==p&&""!=p&&e(".envirabox-slide--current .envirabox-content").length>0&&e(".envirabox-content").prepend(p),e(document).trigger("envirabox_api_after_show",[t,i,n]),void 0!==i.opts.capTitleShow&&"caption"==i.opts.capTitleShow&&""==n.caption?e(".envirabox-caption-wrap .envirabox-caption").css("visibility","hidden"):e(".envirabox-caption-wrap .envirabox-caption").css("visibility","visible")},beforeClose:function(i,n){e(document).trigger("envirabox_api_before_close",[t,i,n])},afterClose:function(i,n){e(document).trigger("envirabox_api_after_close",[t,i,n])},onActivate:function(i,n){e(document).trigger("envirabox_api_on_activate",[t,i,n])},onDeactivate:function(i,n){e(document).trigger("envirabox_api_on_deactivate",[t,i,n])}},t.is_mobile()&&1!==t.get_config("mobile_thumbnails")&&(t.lightbox_options.thumbs=!1),t.get_lightbox_config("load_all")){var g=t.images;if("object"!==(void 0===g?"undefined":o(g)))return;e.each(g,function(t){void 0!==this.video&&void 0!==this.video.embed_url&&(this.src=this.video.embed_url),d.push(this)})}else{var f=e(".envira-gallery-"+t.id);e.each(f,function(t){d.push(this)})}e("#envira-gallery-wrap-"+t.id+" .envira-gallery-link").on("click",function(i){var o=this;i.preventDefault(),i.stopImmediatePropagation();var r=e(this).find("img").data("envira-index"),s=e(this).find("img").attr("src"),a=!1;1!==t.get_config("pagination")&&"1"!=t.get_config("sort_order")&&0!==r||(Object.entries(d).forEach(function(t){var i=n(t,2),o=i[0],l=i[1];e(l).find("img").prop("src")==s&&(r=o,a=!0)}),!0!==a&&Object.entries(d).forEach(function(t){var i=n(t,2),s=i[0];i[1]==e(o).attr("href")&&(r=s)})),e.envirabox.open(d,t.lightbox_options,r)}),e(document).trigger("envirabox_lightbox_api",t)}},{key:"get_config",value:function(t){return this.data[t]}},{key:"get_lightbox_config",value:function(t){return this.envirabox_config[t]}},{key:"get_image",value:function(t){return this.images[t]}},{key:"is_mobile",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"log",value:function(t){void 0!=envira_gallery.debug&&envira_gallery.debug&&void 0!=t&&console.log(t)}}]),t}();t.exports=a}).call(this,i(0))},function(t,e,i){"use strict";(function(e,i){var n=function(){var t=!1,n=null,o=null,r="undefined"!=typeof IntersectionObserver,s=function(t){if(null===n&&(n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,null===n))return!1;var e=t.getBoundingClientRect(),i=e.top,r=e.left,s=e.width,a=e.height;return i<o&&i+a>0&&r<n&&r+s>0};e.fn.exists=function(){return this.length>0};var a=function(n,o){var r=o.getAttribute("data-envira-srcset");if(null!==r)if((r=r.trim()).length>0){for(var s=[],a=(r=r.split(",")).length,l=0;l<a;l++){var c=r[l].trim();if(0!==c.length){var h=c.lastIndexOf(" ");if(-1===h)var u=c,d=999998;else u=c.substr(0,h),d=parseInt(c.substr(h+1,c.length-h-2),10);var p=!1;-1!==u.indexOf(".webp",u.length-5)?t&&(p=!0):p=!0,p&&s.push([u,d])}}s.sort(function(t,e){if(t[1]<e[1])return-1;if(t[1]>e[1])return 1;if(t[1]===e[1]){if(-1!==e[0].indexOf(".webp",e[0].length-5))return 1;if(-1!==t[0].indexOf(".webp",t[0].length-5))return-1}return 0}),r=s}else r=[];else r=[];var g=n.offsetWidth*window.devicePixelRatio,f=null;for(a=r.length,l=0;l<a;l++){var v=r[l];if(v[1]>=g){f=v;break}}if(null===f&&(f=[o.getAttribute("data-envira-src"),999999]),void 0===n.lastSetOption&&(n.lastSetOption=["",0]),n.lastSetOption[1]<f[1]){var m=0===n.lastSetOption[1],y=f[0],b=new Image;b.addEventListener("load",function(){if(o.setAttribute("srcset",y),o.setAttribute("src",y),m){var t=n.getAttribute("data-onlazyload");null!==t&&new Function(t).bind(n)()}},!1),b.addEventListener("error",function(){n.lastSetOption=["",0]},!1),b.onload=function(){if("envira-lazy"==n.getAttribute("class")&&i(n).not("img"))var t=n.firstElementChild,o=n,r=t.id,s=t.src,a=e(t).data("envira-gallery-id"),l=e(n).data("envira-item-id"),c=this.naturalWidth,h=this.naturalHeight;else t=b,o=n,r=n.id,s=n.src,a=e(n).data("envira-gallery-id"),l=e(n).data("envira-item-id"),c=this.naturalWidth,h=this.naturalHeight;void 0!==a&&null!==a||(a=0),e(document).trigger({type:"envira_image_lazy_load_complete",container:o,image_src:s,image_id:r,item_id:l,gallery_id:a,naturalWidth:c,naturalHeight:h})},b.onerror=function(){console.error("Cannot load image")},b.src=y,n.lastSetOption=f}},l=function(){n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},c=function(t){if(void 0!==t){var i=function(t,e){for(var i=t.length,n=0;n<i;n++){var o=t[n],r=e?o:o.parentNode;!0===s(r)&&a(r,o)}};if(t){if("string"!=typeof t)return;"undefined"!==envira_gallery.ll_delay&&!1!==envira_gallery.ll_initial&&"undefined"!==envira_gallery.ll_initial||(envira_gallery.ll_delay=0),setTimeout(function(){e(t+" div.envira-lazy > img").exists()?i(document.querySelectorAll(t+" div.envira-lazy > img"),!1):e(t+" img.envira-lazy").exists()&&i(document.querySelectorAll(t+" img.envira-lazy"),!0),envira_gallery.ll_initial},envira_gallery.ll_delay)}}};if("srcset"in document.createElement("img")&&void 0!==window.devicePixelRatio&&void 0!==window.addEventListener&&void 0!==document.querySelectorAll){l();var h=new Image;h.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=",h.onload=h.onerror=function(){if(t=2===h.width,r){var e=function(){for(var t=document.querySelectorAll(".envira-lazy"),e=t.length,n=0;n<e;n++){var o=t[n];void 0===o.responsivelyLazyObserverAttached&&(o.responsivelyLazyObserverAttached=!0,i.observe(o))}},i=new IntersectionObserver(function(t){for(var e in t){var i=t[e];if(i.intersectionRatio>0){var n=i.target;if("img"!==n.tagName.toLowerCase()){var o=n.querySelector("img");null!==o&&a(n,o)}else a(n,n)}}});c()}else var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},o=!0,s=function(){o=!0,function t(){o&&(o=!1),n.call(null,t)}()},u=function(){for(var t=document.querySelectorAll(".envira-lazy"),e=t.length,i=0;i<e;i++)for(var n=t[i].parentNode;n&&"html"!==n.tagName.toLowerCase();)void 0===n.responsivelyLazyScrollAttached&&(n.responsivelyLazyScrollAttached=!0,n.addEventListener("scroll",s)),n=n.parentNode};var d=function(){if(r)var t=null;window.addEventListener("resize",function(){l(),r?(window.clearTimeout(t),t=window.setTimeout(function(){c()},300)):s()}),r?(window.addEventListener("load",c),e()):(window.addEventListener("scroll",s),window.addEventListener("load",s),u()),"undefined"!=typeof MutationObserver&&new MutationObserver(function(){r?(e(),c()):(u(),s())}).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}}return{run:c,isVisible:s,setGalleryClass:function(t){alert("setting - "+t)}}}();window.enviraLazy=n,t.exports=n}).call(this,i(0),i(0))},function(t,e,i){"use strict";(function(e){var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this;o.data=e,o.images=i,o.id=this.get_config("gallery_id"),o.envirabox_config=n,o.log(o.data),o.log(o.images),o.log(o.envirabox_config),o.log(o.id),o.init()}return i(t,[{key:"init",value:function(){this.lightbox()}},{key:"lightbox",value:function(){var t=this,i=!t.get_config("mobile_touchwipe")||{vertical:!0,momentum:!0},n=!!t.get_config("thumbnails")&&{autoStart:!0,hideOnClose:!0,position:t.get_lightbox_config("thumbs_position")},o=!!t.get_config("slideshow")&&{autoStart:t.get_config("autoplay"),speed:t.get_config("ss_speed")},r=!t.get_config("fullscreen")||!t.get_config("open_fullscreen")||{autoStart:!0},s="zomm-in-out"==t.get_config("lightbox_open_close_effect")?"zoom-in-out":t.get_config("lightbox_open_close_effect"),a="zomm-in-out"==t.get_config("effect")?"zoom":t.get_config("effect"),l=[];t.lightbox_options={selector:'[data-envirabox="'+t.id+'"]',loop:t.get_config("loop"),margin:t.get_lightbox_config("margins"),gutter:t.get_lightbox_config("gutter"),keyboard:t.get_config("keyboard"),arrows:t.get_lightbox_config("arrows"),arrow_position:t.get_lightbox_config("arrow_position"),infobar:t.get_lightbox_config("infobar"),toolbar:t.get_lightbox_config("toolbar"),idleTime:!!t.get_lightbox_config("idle_time")&&t.get_lightbox_config("idle_time"),smallBtn:t.get_lightbox_config("show_smallbtn"),protect:!1,image:{preload:!1},animationEffect:s,animationDuration:t.get_lightbox_config("animation_duration")?t.get_lightbox_config("animation_duration"):300,btnTpl:{smallBtn:t.get_lightbox_config("small_btn_template")},zoomOpacity:"auto",transitionEffect:a,transitionDuration:t.get_lightbox_config("transition_duration")?t.get_lightbox_config("transition_duration"):200,baseTpl:t.get_lightbox_config("base_template"),spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:t.get_lightbox_config("error_template"),fullScreen:!!t.get_config("fullscreen")&&r,touch:i,hash:!1,insideCap:t.get_lightbox_config("inner_caption"),capPosition:t.get_lightbox_config("caption_position"),capTitleShow:!(!t.get_config("lightbox_title_caption")||"none"==t.get_config("lightbox_title_caption")||"0"==t.get_config("lightbox_title_caption"))&&t.get_config("lightbox_title_caption"),media:{youtube:{params:{autoplay:0}}},wheel:0!=this.get_config("mousewheel"),slideShow:o,thumbs:n,mobile:{clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:!1,dblclickSlide:!1},clickContent:t.get_lightbox_config("click_content")?t.get_lightbox_config("click_content"):"toggleControls",clickSlide:t.get_lightbox_config("click_slide")?t.get_lightbox_config("click_slide"):"close",clickOutside:t.get_lightbox_config("click_outside")?t.get_lightbox_config("click_outside"):"toggleControls",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,videoPlayPause:!!t.get_config("videos_playpause"),videoProgressBar:!!t.get_config("videos_progress"),videoPlaybackTime:!!t.get_config("videos_current"),videoVideoLength:!!t.get_config("videos_duration"),videoVolumeControls:!!t.get_config("videos_volume"),videoControlBar:!!t.get_config("videos_controls"),videoFullscreen:!!t.get_config("videos_fullscreen"),videoDownload:!!t.get_config("videos_download"),videoPlayIcon:!!t.get_config("videos_play_icon_thumbnails"),onInit:function(i,n){e(document).trigger("envirabox_api_on_init",[t,i,n])},beforeLoad:function(i,n){e(document).trigger("envirabox_api_before_load",[t,i,n])},afterLoad:function(i,n){e(document).trigger("envirabox_api_after_load",[t,i,n])},beforeShow:function(i,n){e(document).trigger("envirabox_api_before_show",[t,i,n])},afterShow:function(i,n){if(void 0==o||void 0==r)var o=!1,r=!1;1!=o&&(e(".envirabox-position-overlay").each(function(){e(this).prependTo(n.$content)}),o=!0),void 0!==t.get_config("keyboard")&&0===t.get_config("keyboard")&&e(window).keypress(function(t){[32,37,38,39,40].indexOf(t.keyCode)>-1&&t.preventDefault()}),e(".envirabox-caption").show(),e(".envirabox-navigation").show(),e(".envirabox-navigation-inside").show(),e(document).trigger("envirabox_api_after_show",[t,i,n])},beforeClose:function(i,n){e(document).trigger("envirabox_api_before_close",[t,i,n])},afterClose:function(i,n){e(document).trigger("envirabox_api_after_close",[t,i,n])},onActivate:function(i,n){e(document).trigger("envirabox_api_on_activate",[t,i,n])},onDeactivate:function(i,n){e(document).trigger("envirabox_api_on_deactivate",[t,i,n])}},e(document).trigger("envirabox_options",t),t.is_mobile()&&1!==t.get_config("mobile_thumbnails")&&(t.lightbox_options.thumbs=!1),e.each(t.images,function(i){l.push(this);var n,o,r,s=this.link||"",a=!1,c=!1,h=!1,u=e.extend(!0,{},{youtube_playlist:{matcher:/^http:\/\/(?:www\.)?youtube\.com\/watch\?((v=[^&\s]*&list=[^&\s]*)|(list=[^&\s]*&v=[^&\s]*))(&[^&\s]*)*$/,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/videoseries?list=$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,muted:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},facebook:{matcher:/facebook.com\/facebook\/videos\/(.*)\/?(.*)/,type:"genericDiv",subtype:"facebook",url:"//www.facebook.com/facebook/videos/$1"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},instagram_tv:{matcher:/(instagr\.am|instagram\.com)\/tv\/([a-zA-Z0-9_\-]+)\/?/i,type:"iframe",url:"//$1/p/$2/media/?size=l"},instagram_video:{matcher:/(cdninstagr\.am|cdninstagram\.com)\/vp\/([a-zA-Z0-9_\-]+)\/?/i,type:"instagram_video",url:"//$1/p/$2/media/?size=l"},wistia:{matcher:/wistia.com\/medias\/(.*)\/?(.*)/,type:"iframe",url:"//fast.wistia.net/embed/iframe/$1"},twitch:{matcher:/player.twitch.tv\/[\\?&]video=([^&#]*)/,type:"iframe",url:"//player.twitch.tv/?video=$1"},videopress:{matcher:/videopress.com\/v\/(.*)\/?(.*)/,type:"iframe",url:"//videopress.com/embed/$1"},self_hosted:{matcher:/(.mp4|.flv|.ogv|.webm)/,type:"video"},pdf:{matcher:/(.pdf)/,type:"iframe"}},this.opts.media);e.each(u,function(i,l){if(n=s.match(l.matcher),r={},n&&void 0!==n){if(h=i,a=l.type,c=void 0!==l.subtype&&l.subtype,l.paramPlace&&n[l.paramPlace]){"?"==(o=n[l.paramPlace])[0]&&(o=o.substring(1)),o=o.split("&");for(var u=0;u<o.length;++u){var d=o[u].split("=",2);2==d.length&&(r[d[0]]=decodeURIComponent(d[1].replace(/\+/g," ")))}}"instagram_video"!==l.type&&void 0!==l.url&&(s="function"===e.type(l.url)?l.url.call(this,n,void 0,item):function(t,i,n){if(t)return n=n||"","object"===e.type(n)&&(n=e.param(n,!0)),e.each(i,function(e,i){t=t.replace("$"+e,i||"")}),n.length&&(t+=(t.indexOf("?")>0?"&":"?")+n),t}(l.url,n,void 0)),void 0!==s&&(1==t.data.videos_autoplay&&("vimeo"!==h&&"youtube"!==h||(s+="/?autoplay=1")),"vimeo"===h&&(s=s.replace("&%23","#")))}}),a?(this.video=!0,this.src=s,this.type=a,this.subtype=c,"iframe"===a&&(e.extend(!0,this.opts,{iframe:{preload:!0,provider:h,attr:{scrolling:"no"}}}),this.contentProvider=h)):this.type="image"}),e("#envira-links-"+t.id).on("click",function(i){i.preventDefault(),i.stopImmediatePropagation();var n=e(this),o=n.data("gallery-images"),r=n.data("gallery-sort-ids"),s=(void 0!==r&&t.data.gallery_sort,void 0!==r&&"gallery"==t.data.gallery_sort?r:o),a=e.envirabox.getInstance();void 0!==r&&""!=r&&(l=[],e.each(r,function(t,e){l.push(s[e])})),a||e.envirabox.open(l,t.lightbox_options)})}},{key:"get_config",value:function(t){return this.data[t]}},{key:"get_lightbox_config",value:function(t){return this.envirabox_config[t]}},{key:"get_image",value:function(t){return this.images[t]}},{key:"is_mobile",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"log",value:function(t){void 0!=envira_gallery.debug&&envira_gallery.debug&&void 0!=t&&console.log(t)}}]),t}();t.exports=n}).call(this,i(0))}]);